{"version":3,"sources":["models/models.tsx","logic/logic.ts","components/bits/UserAvatar.tsx","components/modals/ModalHeader.tsx","components/bits/UserChip.tsx","components/modals/ExcludedUsersModal.tsx","components/modals/EntryUserModal.tsx","components/modals/RemoveEntryModal.tsx","components/entries/EntriesRow.tsx","components/entries/EntriesHeader.tsx","components/entries/Entries.tsx","components/bits/AutosaveMessage.tsx","components/header/Header.tsx","components/modals/AddUserModal.tsx","firebase.ts","components/modals/SettingsModal.tsx","components/modals/RemoveUserModal.tsx","components/modals/ShareSheetModal.tsx","components/users/UsersBar.tsx","components/dialog/overview/OverviewHeader.tsx","components/dialog/overview/OverviewRow.tsx","components/dialog/overview/Overview.tsx","components/dialog/breakdown/BreakdownHeader.tsx","components/dialog/breakdown/BreakdownRow.tsx","components/dialog/breakdown/Breakdown.tsx","components/dialog/SideDialog.tsx","components/bits/AddItemFab.tsx","actions/sheetActions.ts","components/modals/WhoAreYouModal.tsx","components/pages/CreateNewSheet.tsx","components/pages/ViewOnDesktop.tsx","components/pages/SplitTheCost.tsx","assets/homepage.png","assets/blob.svg","components/pages/HomePage.tsx","actions/appUserActions.ts","components/pages/PageNotFound.tsx","components/pages/SheetNotFound.tsx","components/pages/TermsOfService.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["SaveState","getAvatarColor","user","userIdx","placeholder","colors","length","handleKeyPress","e","target","action","key","toLowerCase","UserAvatar","tooltipPlacement","onClick","iconOnHover","disabled","className","useState","hover","setHover","Tooltip","arrow","title","displayName","placement","Avatar","style","backgroundColor","cursor","onMouseEnter","onMouseLeave","initials","ModalHeader","subtitle","onClose","DialogTitle","IconButton","size","UserChip","onRemove","Chip","avatar","label","onDelete","id","ExcludedUsersModal","open","setOpen","entry","useContext","SheetContext","sheetState","sheetDispatch","exclude","excludedUsers","setExcludedUsers","confirmExcludeUsers","type","handleClose","handleClick","userId","includes","filter","useEffect","Dialog","fullWidth","disableBackdropClick","maxWidth","onKeyPress","PaperProps","item","DialogContent","Object","entries","users","map","pair","idx","Checkbox","checked","color","keys","indexOf","DialogActions","Button","EntryUserModal","entryUser","setEntryUser","confirmEntryUser","section","value","Radio","RemoveEntryModal","confirmRemoveEntry","entryId","EntriesRow","rowIdx","cost","note","emptyRow","setEmptyRow","showDelete","setShowDelete","showEdit","setShowEdit","setItem","setNote","showExcludeUsersModal","setShowExcludeUsersModal","showEntryUserModal","setShowEntryUserModal","showRemoveEntryModal","setShowRemoveEntryModal","updateEntry","local","Number","div","animate","x","opacity","initial","transition","duration","Grid","container","spacing","xs","onMouseOver","readOnly","undefined","Input","disableUnderline","onFocus","onChange","onBlur","toFixed","startAdornment","InputAdornment","position","inputComponent","NumberFormat","inputProps","decimalScale","allowNegative","thousandSeparator","allowLeadingZeros","EntriesHeader","Entries","userState","UserContext","curUser","createdBy","AutosaveMessage","saveState","Unsaved","Saving","fontSize","Header","AddUserModal","firstName","setFirstName","validFirstName","setValidFirstName","lastName","setLastName","validLastName","setValidLastName","uniqueUser","setUniqueUser","resetDialog","confirmAddUser","numUsers","first","toLocaleLowerCase","last","checkFirstName","test","checkLastName","unique","forEach","validateNewUser","email","TextField","autoFocus","error","helperText","fire","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","sheetStateConverter","toFirestore","timestamp","lastAccessed","lastEdited","customLink","fromFirestore","snapshot","options","data","db","auth","firestore","GoogleAuthProvider","SettingsModal","history","useHistory","sheetTitle","setSheetTitle","editTitle","setEditTitle","validTitle","setValidTitle","sheetLink","setSheetLink","editLink","setEditLink","validLink","setValidLink","uniqueLink","setUniqueLink","setReadOnly","deleteText","setDeleteText","editDelete","setEditDelete","deleteError","setDeleteError","setSaveState","a","trim","match","collection","doc","get","exists","validateSheetTitle","Promise","r","setTimeout","push","saveSettings","link","Saved","alignItems","inputRef","titleRef","focus","InputProps","justify","linkRef","validateSheetLink","FormControlLabel","control","Switch","deleteRef","confirmDeleteSheet","RemoveUserModal","removeUser","confirmRemoveUser","ShareSheetModal","buttonText","setButtonText","navigator","clipboard","writeText","UsersBar","openAddUser","setOpenAddUser","openRemoveUser","setOpenRemoveUser","openSettings","setOpenSettings","openSaveSheet","setOpenSaveSheet","setRemoveUser","openRemoveUserModal","OverviewHeader","OverviewRow","totalSpent","totalOwed","Overview","overviewData","setOverviewData","validUsers","userCost","calculateOverview","BreakdownHeader","BreakdownRow","netCost","theyOwe","youOwe","debtedUser","owedUser","Math","abs","Breakdown","breakdownData","setBreakdownData","userBreakdown","numEntryUsers","calculateUserBreakdown","SideDialog","tab","setTab","exit","TabContext","Tabs","event","indicatorColor","textColor","Tab","TabPanel","Fab","variant","AddItemFab","sheetReducer","state","newEntry","nanoid","Date","now","toUTCString","newSheetState","updateFirestore","addEntry","newEntries","removeEntry","replaceAll","duplicateUser","newUser","charAt","toLocaleUpperCase","addUser","newUsers","newExcludedUsers","curId","updatedEntry","updatedExcludedUsers","removeExcludedUser","changeSheetTitle","delete","firebaseLink","sheetId","set","changeSheetLink","saveSheet","setAutosaveState","autosaveSheet","updateReadOnly","withConverter","deleteSheet","CreateSheetStep","WhoAreYouModal","userDispatch","selectedUser","setSelectedUser","confirmUser","ViewOnDesktop","initialSheetState","createContext","SplitTheCost","isMobile","window","innerWidth","location","useLocation","useParams","useReducer","autosaveState","sheetSnapshot","fetchedSheetState","customLinkSnapshot","actualSheetId","customSheetSnapshot","customFetchedSheetState","pathname","fetchSheetState","generateNewSheetState","saveInterval","setInterval","clearInterval","Provider","HomePage","alignContent","to","src","blob","alt","homepage","userReducer","updateCurUser","darkMode","setDarkMode","CreateNewSheet","SheetName","step","setStep","agreeToTerms","setAgreeToTerms","createNewSheet","sheetNameStep","DisplayName","PageNotFound","SheetNotFound","TermsOfService","initialUserState","App","path","exact","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2bfdbdb4.chunk.js","sourcesContent":["export interface User {\n  id: string;\n  firstName: string;\n  lastName: string;\n  initials: string;\n  displayName: string;\n  email: string;\n}\n\nexport interface Entry {\n  id: string;\n  timestamp: string;\n  lastEdited: number;\n  item: string;\n  cost: number;\n  exclude: string[];\n  user: string;\n  createdBy: string;\n  note: string;\n}\n\nexport interface OverviewData {\n  [userId: string]: { totalSpent: number; totalOwed: number };\n}\n\nexport interface UserBreakdownData {\n  user: User;\n  totalSpent: number;\n  totalOwed: number;\n  userBreakdown: { [userId: string]: { youOwe: number; theyOwe: number } };\n}\n\nexport interface SheetSettings {\n  darkMode: boolean;\n  viewOnly: boolean;\n}\n\nexport interface SheetState {\n  id: string;\n  timestamp: string;\n  lastAccessed: number;\n  lastEdited: number;\n  title: string;\n  entries: Entry[];\n  users: { [userId: string]: User };\n  numUsers: number;\n  createdBy: string;\n  local: boolean;\n  readOnly: boolean;\n  customLink?: string;\n}\n\nexport interface UserState {\n  curUser: User | undefined;\n  darkMode: boolean;\n}\n\nexport enum SaveState {\n  Unsaved = 1,\n  Saving = 2,\n  Saved = 3,\n}\n","import { User, Entry, UserBreakdownData, OverviewData } from \"../models/models\";\n\n// Calculates and returns the breakdown data.\nexport function calculateUserBreakdown(\n  user: User,\n  entries: Entry[],\n  users: { [id: string]: User }\n): UserBreakdownData {\n  let breakdownData: UserBreakdownData = {\n    user: user,\n    totalSpent: 0,\n    totalOwed: 0,\n    userBreakdown: {},\n  };\n\n  Object.entries(users).forEach((pair) => {\n    let curUser = pair[1];\n    if (curUser !== user) {\n      breakdownData.userBreakdown[curUser.id] = { theyOwe: 0, youOwe: 0 };\n    }\n  });\n\n  entries.forEach((entry) => {\n    const numEntryUsers = Object.keys(users).length - entry.exclude.length;\n    if (entry.user === user.id) {\n      // This is the current user's entry. Add the cost to totalSpent and\n      // increment \"theyOwe\" for all valid users.\n      breakdownData.totalSpent += entry.cost;\n\n      const validUsers = Object.keys(users).filter(\n        (userId) => !entry.exclude.includes(userId) && userId !== entry.user\n      );\n      validUsers.forEach((userId) => {\n        breakdownData.userBreakdown[userId].theyOwe +=\n          entry.cost / numEntryUsers;\n      });\n    } else if (!entry.exclude.includes(user.id)) {\n      // This is another user's entry that you need to pay for. Add the cost to\n      // totalOwed and increment \"youOwe\" for this particular user.\n      breakdownData.totalOwed += entry.cost / numEntryUsers;\n      breakdownData.userBreakdown[entry.user].youOwe +=\n        entry.cost / numEntryUsers;\n    }\n  });\n\n  return breakdownData;\n}\n\n// Calculates and returns the overview data.\nexport function calculateOverview(\n  entries: Entry[],\n  users: { [id: string]: User }\n): OverviewData {\n  let overviewData: OverviewData = {};\n\n  // Create entries for each user.\n  Object.entries(users).forEach((pair) => {\n    let user = pair[1];\n    overviewData[user.id] = { totalSpent: 0, totalOwed: 0 };\n  });\n\n  entries.forEach((entry) => {\n    overviewData[entry.user].totalSpent += entry.cost;\n\n    const validUsers = Object.keys(users).filter(\n      (userId) => !entry.exclude.includes(userId)\n    );\n    const userCost = entry.cost / validUsers.length;\n\n    validUsers.forEach((userId) => {\n      if (userId !== entry.user) {\n        overviewData[userId].totalOwed += userCost;\n      }\n    });\n  });\n\n  return overviewData;\n}\n\nexport function validateSheetTitle(title: string): boolean {\n  return !(\n    title.trim().length < 5 ||\n    title.length > 20 ||\n    title.match(/[~`%^#@*+=\\-[\\]\\\\';,/{}|\\\\\"<>]/)\n  );\n}\n\nexport function validateCustomSheetLink(link: string): boolean {\n  return !(\n    link.trim().length < 5 ||\n    link.length > 20 ||\n    link.match(/^[0-9a-z]+$/)\n  );\n}\n\n// \"Calculates\" an avatar's color.\nexport function getAvatarColor(\n  user: User,\n  userIdx: number,\n  placeholder?: boolean\n): string {\n  if (placeholder) return \"#dedede\";\n\n  const colors = [\n    \"#AD1457\",\n    \"#F9A825\",\n    \"#1565C0\",\n    \"#6A1B9A\",\n    \"#4527A0\",\n    \"#FF8F00\",\n    \"#D84315\",\n    \"#283593\",\n    \"#4E342E\",\n    \"#00838F\",\n    \"#0277BD\",\n    \"#EF6C00\",\n    \"#00695C\",\n    \"#2E7D32\",\n    \"#C62828\",\n    \"#9E9D24\",\n    \"#558B2F\",\n    \"#37474F\",\n    \"#424242\",\n  ];\n\n  return colors[userIdx % colors.length];\n}\n\nexport function handleKeyPress(\n  e: React.KeyboardEvent,\n  target: string,\n  action: () => void\n) {\n  if (e.key.toLowerCase() === target) {\n    action();\n  }\n}\n","import * as React from \"react\";\nimport { Avatar, Tooltip } from \"@material-ui/core\";\nimport { User } from \"../../models/models\";\nimport { getAvatarColor } from \"../../logic/logic\";\nimport { useState } from \"react\";\n\ninterface Props {\n  user: User;\n  userIdx: number;\n  tooltipPlacement:\n    | \"top\"\n    | \"left\"\n    | \"right\"\n    | \"bottom-end\"\n    | \"bottom-start\"\n    | \"bottom\"\n    | \"left-end\"\n    | \"left-start\"\n    | \"right-end\"\n    | \"right-start\"\n    | \"top-end\"\n    | \"top-start\"\n    | undefined;\n  onClick?: () => void;\n  iconOnHover?: JSX.Element;\n  disabled?: boolean;\n  className?: string;\n}\n\nexport const UserAvatar: React.FC<Props> = ({\n  user,\n  userIdx,\n  tooltipPlacement,\n  onClick,\n  iconOnHover,\n  disabled,\n  className,\n}) => {\n  const [hover, setHover] = useState(false);\n\n  return (\n    <Tooltip\n      className={className}\n      arrow\n      title={user.displayName}\n      placement={tooltipPlacement}\n      onClick={onClick}\n    >\n      <Avatar\n        className='avatar'\n        style={{\n          backgroundColor: getAvatarColor(user, userIdx, disabled),\n          cursor: onClick ? \"pointer\" : \"default\",\n        }}\n      >\n        <span\n          onMouseEnter={() => setHover(true)}\n          onMouseLeave={() => setHover(false)}\n        >\n          {hover ? (iconOnHover ? iconOnHover : user.initials) : user.initials}\n        </span>\n      </Avatar>\n    </Tooltip>\n  );\n};\n","import * as React from \"react\";\nimport { DialogTitle, IconButton } from \"@material-ui/core\";\nimport CloseRoundedIcon from \"@material-ui/icons/CloseRounded\";\n\ninterface Props {\n  title: string;\n  subtitle?: string;\n  onClose?: () => void;\n}\n\nexport const ModalHeader: React.FC<Props> = ({ title, subtitle, onClose }) => {\n  return (\n    <DialogTitle className='modalTitle'>\n      {title}\n      {subtitle && (\n        <>\n          {\" \"}\n          | <b>{`${subtitle}`}</b>\n        </>\n      )}\n      {onClose && (\n        <IconButton className='modalClose' size='small' onClick={onClose}>\n          <CloseRoundedIcon />\n        </IconButton>\n      )}\n    </DialogTitle>\n  );\n};\n","import * as React from \"react\";\nimport { Avatar, Chip } from \"@material-ui/core\";\nimport { User } from \"../../models/models\";\nimport { getAvatarColor } from \"../../logic/logic\";\n\ninterface Props {\n  user: User;\n  userIdx: number;\n  onRemove?: (user: User) => void;\n  onClick?: (user: User) => void;\n  className?: string;\n}\n\nexport const UserChip: React.FC<Props> = ({\n  user,\n  userIdx,\n  onRemove,\n  onClick,\n  className,\n}) => {\n  return (\n    <span onClick={onClick && (() => onClick(user))}>\n      <Chip\n        className={`chip ${className} ${onClick && \"linkCursor\"}`}\n        avatar={\n          <Avatar\n            className='smallAvatar'\n            style={{ backgroundColor: getAvatarColor(user, userIdx) }}\n          >\n            {user.initials}\n          </Avatar>\n        }\n        label={user.displayName}\n        onDelete={onRemove && (() => onRemove(user))}\n        key={user.id}\n      />\n    </span>\n  );\n};\n","import * as React from \"react\";\nimport {\n  Button,\n  Checkbox,\n  Dialog,\n  DialogActions,\n  DialogContent,\n} from \"@material-ui/core\";\nimport { Entry } from \"../../models/models\";\nimport { useState, useContext, useEffect } from \"react\";\nimport { SheetContext } from \"../pages/SplitTheCost\";\nimport { ModalHeader } from \"./ModalHeader\";\nimport { UserChip } from \"../bits/UserChip\";\nimport { handleKeyPress } from \"../../logic/logic\";\n\ninterface Props {\n  open: boolean;\n  setOpen: React.Dispatch<React.SetStateAction<boolean>>;\n  entry: Entry;\n}\n\nexport const ExcludedUsersModal: React.FC<Props> = ({\n  open,\n  setOpen,\n  entry,\n}) => {\n  const { sheetState, sheetDispatch } = useContext(SheetContext);\n\n  const [excludedUsers, setExcludedUsers] = useState<string[]>(entry.exclude);\n\n  useEffect(() => {\n    setExcludedUsers(entry.exclude);\n  }, [entry.exclude]);\n\n  function confirmExcludeUsers() {\n    if (entry.exclude !== excludedUsers) {\n      sheetDispatch({\n        type: \"updateExcludedUsers\",\n        exclude: excludedUsers,\n        entry: entry,\n      });\n    }\n\n    handleClose();\n  }\n\n  function handleClick(userId: string) {\n    if (excludedUsers.includes(userId)) {\n      setExcludedUsers(excludedUsers.filter((id) => id !== userId));\n    } else {\n      setExcludedUsers([...excludedUsers, userId]);\n    }\n  }\n\n  function handleClose() {\n    setExcludedUsers(entry.exclude);\n    setOpen(false);\n  }\n\n  return (\n    <Dialog\n      fullWidth\n      disableBackdropClick\n      maxWidth='xs'\n      onClose={handleClose}\n      open={open}\n      onKeyPress={(e) => handleKeyPress(e, \"enter\", confirmExcludeUsers)}\n      PaperProps={{ className: \"modal\" }}\n    >\n      <ModalHeader\n        title='Included Friends'\n        subtitle={entry.item}\n        onClose={handleClose}\n      />\n      <DialogContent className='excludeModalContent'>\n        <div className='excludeModalColumn'>\n          {Object.entries(sheetState.users).map((pair, idx) => {\n            const user = pair[1];\n            return (\n              idx % 2 === 0 && (\n                <div className='excludeModalUser' key={user.id}>\n                  <Checkbox\n                    checked={!excludedUsers.includes(user.id)}\n                    color='primary'\n                    onClick={() => handleClick(user.id)}\n                  />\n                  <UserChip\n                    user={user}\n                    userIdx={Object.keys(sheetState.users).indexOf(user.id)}\n                    onClick={() => handleClick(user.id)}\n                  />\n                </div>\n              )\n            );\n          })}\n        </div>\n        <div className='excludeModalColumn'>\n          {Object.entries(sheetState.users).map((pair, idx) => {\n            const user = pair[1];\n            return (\n              idx % 2 === 1 && (\n                <div className='excludeModalUser' key={user.id}>\n                  <Checkbox\n                    checked={!excludedUsers.includes(user.id)}\n                    color='primary'\n                    onClick={() => handleClick(user.id)}\n                  />\n                  <UserChip\n                    user={user}\n                    userIdx={Object.keys(sheetState.users).indexOf(user.id)}\n                    onClick={() => handleClick(user.id)}\n                  />\n                </div>\n              )\n            );\n          })}\n        </div>\n      </DialogContent>\n      <DialogActions className='modalActions'>\n        <Button\n          className='rightMarginSmall'\n          color='primary'\n          onClick={() => setExcludedUsers([])}\n        >\n          Include All\n        </Button>\n        <Button\n          className='modalConfirmButton rightMarginSmall'\n          onClick={confirmExcludeUsers}\n        >\n          Confirm\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n","import * as React from \"react\";\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  Radio,\n} from \"@material-ui/core\";\nimport { Entry } from \"../../models/models\";\nimport { useState, useContext, useEffect } from \"react\";\nimport { SheetContext } from \"../pages/SplitTheCost\";\nimport { ModalHeader } from \"./ModalHeader\";\nimport { UserChip } from \"../bits/UserChip\";\nimport { handleKeyPress } from \"../../logic/logic\";\n\ninterface Props {\n  open: boolean;\n  setOpen: React.Dispatch<React.SetStateAction<boolean>>;\n  entry: Entry;\n}\n\nexport const EntryUserModal: React.FC<Props> = ({ open, setOpen, entry }) => {\n  const { sheetState, sheetDispatch } = useContext(SheetContext);\n\n  const [entryUser, setEntryUser] = useState(entry.user);\n\n  useEffect(() => {\n    setEntryUser(entry.user);\n  }, [entry.user]);\n\n  function confirmEntryUser() {\n    if (entryUser && entryUser !== entry.user) {\n      sheetDispatch({\n        type: \"updateEntry\",\n        entry: entry,\n        section: \"user\",\n        value: entryUser,\n      });\n      handleClose();\n    }\n  }\n\n  function handleClick(userId: string) {\n    setEntryUser(userId);\n  }\n\n  function handleClose() {\n    setEntryUser(entry.user);\n    setOpen(false);\n  }\n\n  return (\n    <Dialog\n      fullWidth\n      disableBackdropClick\n      maxWidth='xs'\n      onClose={handleClose}\n      open={open}\n      onKeyPress={(e) => handleKeyPress(e, \"enter\", confirmEntryUser)}\n      PaperProps={{ className: \"modal\" }}\n    >\n      <ModalHeader\n        title='Who Paid?'\n        subtitle={entry.item}\n        onClose={handleClose}\n      />\n      <DialogContent className='excludeModalContent'>\n        <div className='excludeModalColumn'>\n          {Object.entries(sheetState.users).map((pair, idx) => {\n            const user = pair[1];\n            return (\n              idx % 2 === 0 && (\n                <div className='excludeModalUser' key={user.id}>\n                  <Radio\n                    checked={entryUser === user.id}\n                    onClick={() => handleClick(user.id)}\n                  />\n                  <UserChip\n                    user={user}\n                    userIdx={Object.keys(sheetState.users).indexOf(user.id)}\n                    onClick={() => handleClick(user.id)}\n                  />\n                </div>\n              )\n            );\n          })}\n        </div>\n        <div className='excludeModalColumn'>\n          {Object.entries(sheetState.users).map((pair, idx) => {\n            const user = pair[1];\n            return (\n              idx % 2 === 1 && (\n                <div className='excludeModalUser' key={user.id}>\n                  <Radio\n                    checked={entryUser === user.id}\n                    onClick={() => handleClick(user.id)}\n                  />\n                  <UserChip\n                    user={user}\n                    userIdx={Object.keys(sheetState.users).indexOf(user.id)}\n                    onClick={() => handleClick(user.id)}\n                  />\n                </div>\n              )\n            );\n          })}\n        </div>\n      </DialogContent>\n      <DialogActions className='modalActions'>\n        <Button\n          className='modalConfirmButton rightMarginSmall'\n          onClick={confirmEntryUser}\n        >\n          Confirm\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n","import * as React from \"react\";\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n} from \"@material-ui/core\";\nimport { useContext } from \"react\";\nimport { SheetContext } from \"../pages/SplitTheCost\";\nimport { Entry } from \"../../models/models\";\nimport { ModalHeader } from \"./ModalHeader\";\nimport { handleKeyPress } from \"../../logic/logic\";\n\ninterface Props {\n  entry: Entry;\n  open: boolean;\n  setOpen: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\nexport const RemoveEntryModal: React.FC<Props> = ({ entry, open, setOpen }) => {\n  const { sheetDispatch } = useContext(SheetContext);\n\n  function handleClose() {\n    setOpen(false);\n  }\n\n  function confirmRemoveEntry() {\n    sheetDispatch({\n      type: \"removeEntry\",\n      entryId: entry.id,\n    });\n\n    setOpen(false);\n  }\n\n  return (\n    <Dialog\n      fullWidth\n      disableBackdropClick\n      maxWidth='xs'\n      onClose={handleClose}\n      open={open}\n      onKeyPress={(e) => handleKeyPress(e, \"enter\", confirmRemoveEntry)}\n      PaperProps={{ className: \"modal\" }}\n    >\n      <ModalHeader title='Remove Entry' onClose={handleClose} />\n      <DialogContent>\n        Are you sure you want to remove <b>{entry.item}</b> from this sheet?\n      </DialogContent>\n      <DialogActions className='modalActions'>\n        <Button\n          className='modalConfirmButton rightMarginSmall'\n          onClick={confirmRemoveEntry}\n        >\n          Confirm\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n","import * as React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { useState } from \"react\";\nimport { Avatar, IconButton, Input, InputAdornment } from \"@material-ui/core\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { Entry } from \"../../models/models\";\nimport NumberFormat from \"react-number-format\";\nimport { UserAvatar } from \"../bits/UserAvatar\";\nimport { ExcludedUsersModal } from \"../modals/ExcludedUsersModal\";\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\nimport { motion } from \"framer-motion\";\nimport { useContext } from \"react\";\nimport { SheetContext } from \"../pages/SplitTheCost\";\nimport { EntryUserModal } from \"../modals/EntryUserModal\";\nimport { RemoveEntryModal } from \"../modals/RemoveEntryModal\";\n\ninterface Props {\n  entry: Entry;\n  rowIdx: number;\n}\n\nexport const EntriesRow: React.FC<Props> = ({ entry, rowIdx }) => {\n  const { sheetState, sheetDispatch } = useContext(SheetContext);\n\n  const [emptyRow, setEmptyRow] = useState(\n    !entry.item && !entry.cost && !entry.note\n  );\n\n  const [showDelete, setShowDelete] = useState(false);\n  const [showEdit, setShowEdit] = useState(false);\n  const [item, setItem] = useState(entry.item);\n  const [note, setNote] = useState(entry.note);\n  const [showExcludeUsersModal, setShowExcludeUsersModal] = useState(false);\n  const [showEntryUserModal, setShowEntryUserModal] = useState(false);\n  const [showRemoveEntryModal, setShowRemoveEntryModal] = useState(false);\n\n  const numExcludeUsersDisplay = 3;\n\n  function updateEntry(\n    value: string,\n    section: \"item\" | \"cost\" | \"note\",\n    local?: boolean\n  ) {\n    switch (section) {\n      case \"item\":\n        sheetDispatch({\n          type: \"updateEntry\",\n          entry: entry,\n          section: \"item\",\n          value: value,\n        });\n        setEmptyRow(!item && !entry.cost && !note);\n        break;\n      case \"cost\":\n        sheetDispatch({\n          type: \"updateEntry\",\n          entry: entry,\n          section: \"cost\",\n          value: value,\n          local: local,\n        });\n        setEmptyRow(!item && !Number(value) && !note);\n        break;\n      case \"note\":\n        sheetDispatch({\n          type: \"updateEntry\",\n          entry: entry,\n          section: \"note\",\n          value: value,\n        });\n        setEmptyRow(!item && !entry.cost && !note);\n        break;\n    }\n  }\n\n  return (\n    <motion.div\n      animate={{ x: 0, opacity: 1 }}\n      initial={{ x: -2000, opacity: 0 }}\n      transition={{ type: \"tween\", duration: 0.5 }}\n    >\n      <Grid\n        className={rowIdx % 2 ? \"lightRow\" : \"darkRow\"}\n        container\n        spacing={0}\n      >\n        <Grid item xs={3}>\n          <div\n            className='entryDiv'\n            onMouseOver={() => setShowDelete(true)}\n            onMouseLeave={() => setShowDelete(false)}\n          >\n            <UserAvatar\n              className='leftMargin'\n              user={sheetState.users[entry.user]}\n              userIdx={Object.keys(sheetState.users).indexOf(\n                sheetState.users[entry.user].id\n              )}\n              tooltipPlacement='top'\n              disabled={emptyRow}\n              onClick={\n                !sheetState.readOnly\n                  ? () => setShowEntryUserModal(true)\n                  : undefined\n              }\n              iconOnHover={<EditRoundedIcon />}\n            />\n            <Input\n              className='sideMargins'\n              disableUnderline\n              fullWidth\n              readOnly={sheetState.readOnly}\n              value={item}\n              placeholder={emptyRow ? \"Enter item name here\" : undefined}\n              onFocus={() => setEmptyRow(false)}\n              onChange={(e) => setItem(e.target.value)}\n              onBlur={(e) => {\n                updateEntry(e.target.value, \"item\");\n              }}\n            />\n            {!sheetState.readOnly && showDelete && (\n              <IconButton\n                className='iconButton largeIconButton rightMargin'\n                onClick={() => setShowRemoveEntryModal(true)}\n              >\n                <DeleteIcon />\n              </IconButton>\n            )}\n          </div>\n        </Grid>\n        <Grid item xs={1}>\n          <div className='entryDiv'>\n            <Input\n              className='sideMargins'\n              disableUnderline\n              fullWidth\n              readOnly={sheetState.readOnly}\n              value={entry.cost.toFixed(2)}\n              onFocus={() => setEmptyRow(false)}\n              onChange={(e) => {\n                updateEntry(e.target.value, \"cost\", true);\n              }}\n              onBlur={(e) => {\n                updateEntry(e.target.value, \"cost\");\n              }}\n              startAdornment={\n                <InputAdornment position='start'>$</InputAdornment>\n              }\n              inputComponent={NumberFormat as any}\n              inputProps={{\n                decimalScale: 2,\n                allowNegative: false,\n                thousandSeparator: \",\",\n                allowLeadingZeros: true,\n              }}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={2}>\n          <div\n            className='entryDiv'\n            onMouseOver={() => setShowEdit(true)}\n            onMouseLeave={() => setShowEdit(false)}\n          >\n            {entry.exclude.map((userId, idx) => {\n              if (idx < numExcludeUsersDisplay) {\n                return (\n                  <UserAvatar\n                    className='leftMarginSmall'\n                    user={sheetState.users[userId]}\n                    userIdx={Object.keys(sheetState.users).indexOf(\n                      sheetState.users[userId].id\n                    )}\n                    tooltipPlacement='top'\n                    key={userId}\n                  />\n                );\n              } else if (\n                idx === numExcludeUsersDisplay &&\n                entry.exclude.length > idx\n              ) {\n                return (\n                  <Avatar className='leftMarginSmall' key={userId}>{`+${\n                    entry.exclude.length - numExcludeUsersDisplay\n                  }`}</Avatar>\n                );\n              } else {\n                return null;\n              }\n            })}\n\n            {!sheetState.readOnly && showEdit && (\n              <IconButton\n                className='iconButton largeIconButton leftMarginSmall'\n                onClick={() => setShowExcludeUsersModal(true)}\n              >\n                <EditRoundedIcon />\n              </IconButton>\n            )}\n          </div>\n        </Grid>\n        <Grid item xs={6}>\n          <div className='entryDiv'>\n            <Input\n              className='sideMargins'\n              disableUnderline\n              fullWidth\n              readOnly={sheetState.readOnly}\n              value={note}\n              placeholder={emptyRow ? \"Include a note here\" : undefined}\n              onFocus={() => setEmptyRow(false)}\n              onChange={(e) => setNote(e.target.value)}\n              onBlur={(e) => {\n                updateEntry(e.target.value, \"note\");\n              }}\n            />\n          </div>\n        </Grid>\n      </Grid>\n      <ExcludedUsersModal\n        open={showExcludeUsersModal}\n        setOpen={setShowExcludeUsersModal}\n        entry={entry}\n      />\n      <EntryUserModal\n        open={showEntryUserModal}\n        setOpen={setShowEntryUserModal}\n        entry={entry}\n      />\n      <RemoveEntryModal\n        open={showRemoveEntryModal}\n        setOpen={setShowRemoveEntryModal}\n        entry={entry}\n      />\n    </motion.div>\n  );\n};\n","import { Grid } from \"@material-ui/core\";\nimport * as React from \"react\";\n\nexport const EntriesHeader: React.FC = () => {\n  return (\n    <Grid className='gridHeader' container spacing={0}>\n      <Grid item xs={3}>\n        <span className='leftMargin'>ITEM</span>\n      </Grid>\n      <Grid item xs={1}>\n        <span className='leftMargin'>COST</span>\n      </Grid>\n      <Grid item xs={2}>\n        <span className='leftMargin'>EXCLUDE</span>\n      </Grid>\n      <Grid item xs={6}>\n        <span className='leftMargin'>NOTE</span>\n      </Grid>\n    </Grid>\n  );\n};\n","import * as React from \"react\";\nimport { EntriesRow } from \"./EntriesRow\";\nimport { EntriesHeader } from \"./EntriesHeader\";\nimport { useContext } from \"react\";\nimport { SheetContext } from \"../pages/SplitTheCost\";\nimport { UserContext } from \"../../App\";\n\nexport const Entries: React.FC = () => {\n  const { userState } = useContext(UserContext);\n  const { sheetState } = useContext(SheetContext);\n  let rowIdx = 0;\n\n  return (\n    <>\n      <EntriesHeader />\n      {sheetState.entries.map(\n        (entry) =>\n          (entry.user === userState.curUser?.id ||\n            entry.createdBy === userState.curUser?.id ||\n            entry.item ||\n            entry.cost ||\n            entry.note) && (\n            <EntriesRow entry={entry} rowIdx={rowIdx++} key={entry.id} />\n          )\n      )}\n    </>\n  );\n};\n","import * as React from \"react\";\nimport CloudDoneRoundedIcon from \"@material-ui/icons/CloudDoneRounded\";\nimport SyncRoundedIcon from \"@material-ui/icons/SyncRounded\";\nimport { SaveState } from \"../../models/models\";\n\ninterface Props {\n  saveState: SaveState;\n}\n\nexport const AutosaveMessage: React.FC<Props> = ({ saveState }) => {\n  function renderMessage(): JSX.Element {\n    if (saveState === SaveState.Unsaved) {\n      return <></>;\n    } else if (saveState === SaveState.Saving) {\n      return (\n        <>\n          <SyncRoundedIcon fontSize='small' />\n          <p className='leftMarginSmall'>Saving...</p>\n        </>\n      );\n    } else {\n      return (\n        <>\n          <CloudDoneRoundedIcon fontSize='small' />\n          <p className='leftMarginSmall'>Saved to Cloud</p>\n        </>\n      );\n    }\n  }\n\n  return <span id='autosaveMessage'>{renderMessage()}</span>;\n};\n","import * as React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { useContext } from \"react\";\nimport { SheetContext } from \"../pages/SplitTheCost\";\nimport { AutosaveMessage } from \"../bits/AutosaveMessage\";\nimport { SaveState } from \"../../models/models\";\n\ninterface Props {\n  saveState: SaveState;\n}\n\nexport const Header: React.FC<Props> = ({ saveState }) => {\n  const { sheetState } = useContext(SheetContext);\n\n  return (\n    <Grid container spacing={0}>\n      <Grid className='header' item xs={12}>\n        <span className='leftMargin'>\n          split the cost | <b>{sheetState.title}</b>\n        </span>\n        <AutosaveMessage saveState={saveState} />\n      </Grid>\n    </Grid>\n  );\n};\n","import * as React from \"react\";\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  TextField,\n} from \"@material-ui/core\";\nimport { useContext, useState } from \"react\";\nimport { SheetContext } from \"../pages/SplitTheCost\";\nimport { ModalHeader } from \"./ModalHeader\";\nimport { handleKeyPress } from \"../../logic/logic\";\n\ninterface Props {\n  open: boolean;\n  setOpen: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\nexport const AddUserModal: React.FC<Props> = ({ open, setOpen }) => {\n  const { sheetState, sheetDispatch } = useContext(SheetContext);\n\n  const [firstName, setFirstName] = useState(\"\");\n  const [validFirstName, setValidFirstName] = useState(true);\n  const [lastName, setLastName] = useState(\"\");\n  const [validLastName, setValidLastName] = useState(true);\n  const [uniqueUser, setUniqueUser] = useState(true);\n\n  // Resets dialog inputs.\n  function resetDialog() {\n    setFirstName(\"\");\n    setLastName(\"\");\n    setValidFirstName(true);\n    setValidLastName(true);\n    setUniqueUser(true);\n  }\n\n  function handleClose() {\n    resetDialog();\n    setOpen(false);\n  }\n\n  function validateNewUser(firstName: string, lastName: string): boolean {\n    const first = firstName.toLocaleLowerCase();\n    const last = lastName.toLocaleLowerCase();\n\n    const checkFirstName = first.length > 0 && /^[a-zA-Z]+$/.test(first);\n    const checkLastName = last.length > 0 && /^[a-zA-Z]+$/.test(last);\n    setValidFirstName(checkFirstName);\n    setValidLastName(checkLastName);\n\n    if (!checkFirstName || !checkLastName) return false;\n\n    let unique = true;\n    Object.entries(sheetState.users).forEach((pair) => {\n      const user = pair[1];\n      if (\n        user.firstName.toLocaleLowerCase() === first &&\n        user.lastName.toLocaleLowerCase() === last\n      ) {\n        unique = false;\n      }\n    });\n\n    setUniqueUser(unique);\n    return unique;\n  }\n\n  function confirmAddUser() {\n    // Validate first/last name and check for duplicates.\n    if (sheetState.numUsers > 10 || !validateNewUser(firstName, lastName)) {\n      return;\n    }\n\n    sheetDispatch({\n      type: \"addUser\",\n      firstName: firstName,\n      lastName: lastName,\n      email: \"\",\n    });\n\n    resetDialog();\n    setOpen(false);\n  }\n\n  return (\n    <Dialog\n      fullWidth\n      disableBackdropClick\n      maxWidth='xs'\n      onClose={handleClose}\n      open={open}\n      onKeyPress={(e) => handleKeyPress(e, \"enter\", confirmAddUser)}\n      PaperProps={{ className: \"modal\" }}\n    >\n      <ModalHeader title='Add a Friend' onClose={handleClose} />\n      <DialogContent>\n        <div className='modalInputRow'>\n          <TextField\n            className='halfWidthModalInput'\n            autoFocus\n            label='First Name'\n            value={firstName}\n            onChange={(e) => setFirstName(e.target.value)}\n            error={!validFirstName || !uniqueUser}\n            helperText={\n              (!validFirstName && \"Please enter a valid name.\") ||\n              (!uniqueUser && \"Duplicate users not allowed.\")\n            }\n          />\n          <TextField\n            className='halfWidthModalInput'\n            label='Last Name'\n            value={lastName}\n            onChange={(e) => setLastName(e.target.value)}\n            error={!validLastName || !uniqueUser}\n            helperText={\n              (!validLastName && \"Please enter a valid name.\") ||\n              (!uniqueUser && \"Duplicate users not allowed.\")\n            }\n          />\n        </div>\n      </DialogContent>\n      <DialogActions className='modalActions'>\n        <Button\n          className='modalConfirmButton rightMarginSmall'\n          onClick={confirmAddUser}\n        >\n          Confirm\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n","import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport { SheetState } from \"./models/models\";\n\nconst fire = firebase.initializeApp({\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n});\n\nexport const sheetStateConverter = {\n  toFirestore(sheetState: SheetState): firebase.firestore.DocumentData {\n    return {\n      id: sheetState.id,\n      timestamp: sheetState.timestamp,\n      lastAccessed: sheetState.lastAccessed,\n      lastEdited: sheetState.lastEdited,\n      title: sheetState.title,\n      entries: sheetState.entries,\n      users: sheetState.users,\n      numUsers: sheetState.numUsers,\n      createdBy: sheetState.createdBy,\n      readOnly: sheetState.readOnly ? sheetState.readOnly : false,\n      customLink: sheetState.customLink ? sheetState.customLink : \"\",\n    };\n  },\n  fromFirestore(\n    snapshot: firebase.firestore.QueryDocumentSnapshot,\n    options: firebase.firestore.SnapshotOptions\n  ): SheetState {\n    const data = snapshot.data(options)!;\n    return {\n      id: data.id,\n      timestamp: data.timestamp,\n      lastAccessed: data.lastAccessed,\n      lastEdited: data.lastEdited,\n      title: data.title,\n      entries: data.entries,\n      users: data.users,\n      numUsers: data.numUsers,\n      createdBy: data.createdBy,\n      local: false,\n      readOnly: data.readOnly,\n      customLink: data.customLink,\n    };\n  },\n};\n\nexport const auth = fire.auth();\nexport const db = fire.firestore();\nexport const googleAuthProvider = new firebase.auth.GoogleAuthProvider();\nexport default fire;\n","import * as React from \"react\";\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  Grid,\n  TextField,\n  IconButton,\n  FormControlLabel,\n  Switch,\n} from \"@material-ui/core\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { SheetContext } from \"../pages/SplitTheCost\";\nimport { ModalHeader } from \"./ModalHeader\";\nimport { db } from \"../../firebase\";\nimport { handleKeyPress } from \"../../logic/logic\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\nimport DoneRoundedIcon from \"@material-ui/icons/DoneRounded\";\nimport CloseRoundedIcon from \"@material-ui/icons/CloseRounded\";\nimport { useHistory } from \"react-router-dom\";\nimport { SaveState } from \"../../models/models\";\n\ninterface Props {\n  open: boolean;\n  setOpen: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\nexport const SettingsModal: React.FC<Props> = ({ open, setOpen }) => {\n  const { sheetState, sheetDispatch } = useContext(SheetContext);\n  const history = useHistory();\n\n  const [sheetTitle, setSheetTitle] = useState(sheetState.title);\n  const [editTitle, setEditTitle] = useState(false);\n  const [validTitle, setValidTitle] = useState(true);\n\n  const [sheetLink, setSheetLink] = useState(\n    sheetState.customLink ? sheetState.customLink : sheetState.id\n  );\n  const [editLink, setEditLink] = useState(false);\n  const [validLink, setValidLink] = useState(true);\n  const [uniqueLink, setUniqueLink] = useState(true);\n\n  const [readOnly, setReadOnly] = useState(sheetState.readOnly);\n\n  const [deleteText, setDeleteText] = useState(\"\");\n  const [editDelete, setEditDelete] = useState(false);\n  const [deleteError, setDeleteError] = useState(false);\n\n  const [saveState, setSaveState] = useState(SaveState.Unsaved);\n\n  useEffect(() => {\n    setSheetTitle(sheetState.title);\n    setSheetLink(sheetState.customLink ? sheetState.customLink : sheetState.id);\n    setReadOnly(sheetState.readOnly);\n  }, [\n    sheetState.title,\n    sheetState.customLink,\n    sheetState.id,\n    sheetState.readOnly,\n  ]);\n\n  function handleClose() {\n    setEditTitle(false);\n    setSheetTitle(sheetState.title);\n    setEditLink(false);\n    setValidLink(true);\n    setUniqueLink(true);\n    setSheetLink(sheetState.customLink ? sheetState.customLink : sheetState.id);\n    setSaveState(SaveState.Unsaved);\n    setOpen(false);\n    setDeleteError(false);\n    setDeleteText(\"\");\n    setEditDelete(false);\n    setReadOnly(sheetState.readOnly);\n  }\n\n  function handleCustomLinkClick() {\n    if (!editLink) {\n      setEditLink(true);\n    } else {\n      validateSheetLink();\n    }\n  }\n\n  async function validateSheetLink(): Promise<Boolean> {\n    if (sheetLink === sheetState.customLink || sheetLink === sheetState.id) {\n      setEditLink(false);\n      setValidLink(true);\n      return true;\n    }\n\n    if (\n      sheetLink.trim().length < 5 ||\n      sheetLink.length > 20 ||\n      !sheetLink.match(/^[0-9a-zA-Z]+$/)\n    ) {\n      setValidLink(false);\n      return false;\n    }\n\n    const linkSnapshot = await db\n      .collection(\"customLinks\")\n      .doc(sheetLink)\n      .get();\n    if (linkSnapshot.exists) {\n      setValidLink(false);\n      setUniqueLink(false);\n      return false;\n    }\n\n    const idSnapshot = await db.collection(\"sheets\").doc(sheetLink).get();\n    if (idSnapshot.exists) {\n      setValidLink(false);\n      setUniqueLink(false);\n      return false;\n    }\n\n    setSaveState(SaveState.Unsaved);\n    setEditLink(false);\n    setValidLink(true);\n    setUniqueLink(true);\n\n    return true;\n  }\n\n  function handleSheetTitleClick() {\n    if (!editTitle) {\n      setEditTitle(true);\n    } else {\n      validateSheetTitle();\n    }\n  }\n\n  function validateSheetTitle() {\n    if (sheetTitle === sheetState.title) {\n      setEditTitle(false);\n      setValidTitle(true);\n      return true;\n    }\n\n    if (\n      sheetTitle.trim().length < 5 ||\n      sheetTitle.length > 20 ||\n      sheetTitle.match(/[~`%^#@*+=\\-[\\]\\\\';,/{}|\\\\\"<>]/)\n    ) {\n      setValidTitle(false);\n      return false;\n    }\n\n    setSaveState(SaveState.Unsaved);\n    setEditTitle(false);\n    setValidTitle(true);\n\n    return true;\n  }\n\n  function handleReadOnly(e: React.ChangeEvent<HTMLInputElement>) {\n    setSaveState(SaveState.Unsaved);\n    setReadOnly(e.target.checked);\n  }\n\n  function handleDeleteSheet() {\n    if (!editDelete) {\n      setEditDelete(true);\n    } else {\n      confirmDeleteSheet();\n    }\n  }\n\n  function cancelDeleteSheet() {\n    setDeleteError(false);\n    setEditDelete(false);\n    setDeleteText(\"\");\n  }\n\n  async function confirmDeleteSheet() {\n    if (deleteText !== sheetState.title) {\n      setDeleteError(true);\n      return;\n    }\n\n    sheetDispatch({ type: \"deleteSheet\" });\n    await new Promise((r) => setTimeout(r, 500));\n    history.push(\"/\");\n    setEditDelete(false);\n  }\n\n  async function saveSettings() {\n    setSaveState(SaveState.Saving);\n    if (sheetTitle !== sheetState.title && validateSheetTitle()) {\n      sheetDispatch({ type: \"changeSheetTitle\", title: sheetTitle });\n    }\n\n    if (sheetLink !== sheetState.id && sheetLink !== sheetState.customLink) {\n      sheetDispatch({ type: \"changeSheetLink\", link: sheetLink });\n      history.push(`/sheet/${sheetLink}`);\n    }\n\n    if (readOnly !== sheetState.readOnly) {\n      sheetDispatch({ type: \"updateReadOnly\", readOnly: readOnly });\n    }\n    await new Promise((r) => setTimeout(r, 500));\n    setSaveState(SaveState.Saved);\n  }\n\n  return (\n    <Dialog\n      fullWidth\n      disableBackdropClick\n      maxWidth='sm'\n      onClose={handleClose}\n      open={open}\n      onKeyPress={(e) => handleKeyPress(e, \"enter\", saveSettings)}\n      PaperProps={{ className: \"modal\" }}\n    >\n      <ModalHeader title='Settings' onClose={handleClose} />\n      <DialogContent className='modalContent'>\n        <Grid container spacing={0} alignItems='center'>\n          <Grid className='bottomMargin' item xs={8}>\n            <TextField\n              fullWidth\n              inputRef={(titleRef) => titleRef && editTitle && titleRef.focus()}\n              value={sheetTitle}\n              error={!validTitle}\n              label='Sheet Title'\n              onChange={(e) => setSheetTitle(e.target.value)}\n              helperText={\n                validTitle\n                  ? \"\"\n                  : \"Title must be between 5-20 alphanumeric characters (select special characters are allowed).\"\n              }\n              InputProps={{\n                readOnly: !editTitle,\n                disableUnderline: !editTitle,\n              }}\n            />\n          </Grid>\n          <Grid item xs={2} />\n          <Grid container item xs={2} justify='flex-end'>\n            <IconButton onClick={handleSheetTitleClick}>\n              {editTitle ? <DoneRoundedIcon /> : <EditRoundedIcon />}\n            </IconButton>\n          </Grid>\n          {!sheetState.local && (\n            <>\n              <Grid className='bottomMargin' item xs={8}>\n                <TextField\n                  fullWidth\n                  inputRef={(linkRef) => linkRef && editLink && linkRef.focus()}\n                  value={sheetLink}\n                  error={!validLink}\n                  label='Custom Sheet Link'\n                  onChange={(e) => setSheetLink(e.target.value)}\n                  helperText={\n                    validLink\n                      ? \"\"\n                      : uniqueLink\n                      ? \"Link must be between 5-20 characters and contain only letters and numbers.\"\n                      : \"This custom link is already in use.\"\n                  }\n                  InputProps={{\n                    readOnly: !editLink,\n                    disableUnderline: !editLink,\n                    startAdornment: <b>splitthecost.net/#/</b>,\n                  }}\n                />\n              </Grid>\n              <Grid item xs={2} />\n              <Grid container item xs={2} justify='flex-end'>\n                <IconButton onClick={handleCustomLinkClick}>\n                  {editLink ? <DoneRoundedIcon /> : <EditRoundedIcon />}\n                </IconButton>\n              </Grid>\n            </>\n          )}\n          <Grid item xs={12}>\n            <FormControlLabel\n              control={\n                <Switch\n                  checked={readOnly}\n                  onChange={handleReadOnly}\n                  color='primary'\n                />\n              }\n              label='Read Only'\n            />\n          </Grid>\n          <Grid className='bottomMargin' item xs={8}>\n            <TextField\n              fullWidth\n              inputRef={(deleteRef) =>\n                deleteRef && editDelete && deleteRef.focus()\n              }\n              value={deleteText}\n              placeholder='Enter sheet name to confirm deletion.'\n              error={deleteError}\n              label='Delete Sheet'\n              onChange={(e) => setDeleteText(e.target.value)}\n              helperText={\n                deleteError\n                  ? `Please enter the sheet name correctly (${sheetState.title})`\n                  : \"\"\n              }\n              InputProps={{\n                readOnly: !editDelete,\n                disableUnderline: !editDelete,\n              }}\n            />\n          </Grid>\n          <Grid container item xs={4} justify='flex-end'>\n            {editDelete && (\n              <IconButton onClick={cancelDeleteSheet}>\n                <CloseRoundedIcon />\n              </IconButton>\n            )}\n            <IconButton onClick={handleDeleteSheet}>\n              {editDelete ? <DoneRoundedIcon /> : <DeleteIcon />}\n            </IconButton>\n          </Grid>\n        </Grid>\n      </DialogContent>\n      <DialogActions className='modalActions'>\n        <Button\n          className='modalConfirmButton rightMarginSmall'\n          disabled={\n            saveState === SaveState.Saving ||\n            saveState === SaveState.Saved ||\n            editLink ||\n            editTitle\n          }\n          onClick={saveSettings}\n        >\n          {saveState === SaveState.Unsaved\n            ? \"Save\"\n            : saveState === SaveState.Saving\n            ? \"Saving...\"\n            : \"Saved\"}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n","import * as React from \"react\";\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n} from \"@material-ui/core\";\nimport { useContext } from \"react\";\nimport { SheetContext } from \"../pages/SplitTheCost\";\nimport { User } from \"../../models/models\";\nimport { ModalHeader } from \"./ModalHeader\";\nimport { handleKeyPress } from \"../../logic/logic\";\n\ninterface Props {\n  removeUser: User;\n  open: boolean;\n  setOpen: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\nexport const RemoveUserModal: React.FC<Props> = ({\n  removeUser,\n  open,\n  setOpen,\n}) => {\n  const { sheetState, sheetDispatch } = useContext(SheetContext);\n\n  function handleClose() {\n    setOpen(false);\n  }\n\n  function confirmRemoveUser() {\n    if (removeUser.id !== sheetState.createdBy) {\n      sheetDispatch({\n        type: \"removeUser\",\n        userId: removeUser.id,\n      });\n    }\n\n    setOpen(false);\n  }\n\n  return (\n    <Dialog\n      fullWidth\n      disableBackdropClick\n      maxWidth='xs'\n      onClose={handleClose}\n      open={open}\n      onKeyPress={(e) => handleKeyPress(e, \"enter\", confirmRemoveUser)}\n      PaperProps={{ className: \"modal\" }}\n    >\n      <ModalHeader title='Remove Friend' onClose={handleClose} />\n      <DialogContent>\n        Are you sure you want to remove <b>{removeUser.displayName}</b> and all\n        associated entries from this sheet?\n      </DialogContent>\n      <DialogActions className='modalActions'>\n        <Button\n          className='modalConfirmButton rightMarginSmall'\n          onClick={confirmRemoveUser}\n        >\n          Confirm\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n","import * as React from \"react\";\nimport { Button, Dialog, DialogContent, Grid } from \"@material-ui/core\";\nimport { useContext, useEffect, useState } from \"react\";\n// import NumberFormat from \"react-number-format\";\nimport { SheetContext } from \"../pages/SplitTheCost\";\nimport { useHistory } from \"react-router-dom\";\nimport { ModalHeader } from \"./ModalHeader\";\n\ninterface Props {\n  open: boolean;\n  setOpen: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\nexport const ShareSheetModal: React.FC<Props> = ({ open, setOpen }) => {\n  const history = useHistory();\n\n  const { sheetState, sheetDispatch } = useContext(SheetContext);\n\n  const [buttonText, setButtonText] = useState(\"\");\n\n  useEffect(() => {\n    setButtonText(sheetState.local ? \"GENERATE\" : \"COPY\");\n  }, [sheetState.local]);\n\n  function handleClose() {\n    setOpen(false);\n  }\n\n  function confirmSaveSheet() {\n    sheetDispatch({ type: \"saveSheet\" });\n    history.push(`/sheet/${sheetState.id}`);\n  }\n\n  function copySheetLink() {\n    navigator.clipboard.writeText(`splitthecost.net/#/sheet/${sheetState.id}`);\n    setButtonText(\"COPIED\");\n  }\n\n  return (\n    <Dialog\n      fullWidth\n      disableBackdropClick\n      maxWidth='xs'\n      onClose={handleClose}\n      open={open}\n      PaperProps={{ className: \"modal\" }}\n    >\n      <ModalHeader title='Share Sheet' onClose={handleClose} />\n      <DialogContent className='modalContent bottomMargin'>\n        <Grid container spacing={0} alignItems='center'>\n          <Grid item xs={8}>\n            {sheetState.local ? (\n              \"Generate link to share with friends?\"\n            ) : (\n              <>\n                splitthecost.com/sheet/\n                <b>\n                  {sheetState.customLink\n                    ? sheetState.customLink\n                    : sheetState.id}\n                </b>\n              </>\n            )}\n          </Grid>\n          <Grid item xs={1} />\n          <Grid container item xs={3} justify='flex-end'>\n            <Button\n              fullWidth={sheetState.local}\n              onClick={sheetState.local ? confirmSaveSheet : copySheetLink}\n            >\n              {buttonText}\n            </Button>\n          </Grid>\n        </Grid>\n      </DialogContent>\n    </Dialog>\n  );\n};\n","import * as React from \"react\";\nimport { Grid, IconButton, Tooltip } from \"@material-ui/core\";\nimport { AddUserModal } from \"../modals/AddUserModal\";\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\nimport { useState } from \"react\";\nimport { SettingsModal } from \"../modals/SettingsModal\";\nimport { useContext } from \"react\";\nimport { UserContext } from \"../../App\";\nimport { SheetContext } from \"../pages/SplitTheCost\";\nimport { UserChip } from \"../bits/UserChip\";\nimport { RemoveUserModal } from \"../modals/RemoveUserModal\";\nimport { User } from \"../../models/models\";\nimport { ShareSheetModal } from \"../modals/ShareSheetModal\";\nimport ReplyRoundedIcon from \"@material-ui/icons/ReplyRounded\";\nimport SettingsRoundedIcon from \"@material-ui/icons/SettingsRounded\";\n\nexport const UsersBar: React.FC = () => {\n  const { userState } = useContext(UserContext);\n  const { sheetState } = useContext(SheetContext);\n\n  const [openAddUser, setOpenAddUser] = useState(false);\n  const [openRemoveUser, setOpenRemoveUser] = useState(false);\n  const [openSettings, setOpenSettings] = useState(false);\n  const [openSaveSheet, setOpenSaveSheet] = useState(false);\n\n  const [removeUser, setRemoveUser] = useState<User>();\n\n  function openSettingsModal() {\n    setOpenSettings(true);\n  }\n\n  function openAddUserModal() {\n    setOpenAddUser(true);\n  }\n\n  function openRemoveUserModal(user: User) {\n    setRemoveUser(user);\n    setOpenRemoveUser(true);\n  }\n\n  function openSaveSheetModal() {\n    setOpenSaveSheet(true);\n  }\n\n  return (\n    <>\n      <Grid className='usersBar' container spacing={0}>\n        <Grid item container xs={11} alignItems='center'>\n          {userState.curUser && (\n            <UserChip\n              className='leftMargin bottomMargin'\n              user={userState.curUser}\n              userIdx={Object.keys(sheetState.users).indexOf(\n                userState.curUser.id\n              )}\n            />\n          )}\n          {Object.entries(sheetState.users).map((pair) => {\n            const user = pair[1];\n            return (\n              (!userState.curUser || user.id !== userState.curUser.id) && (\n                <UserChip\n                  className='leftMargin bottomMargin'\n                  user={user}\n                  userIdx={Object.keys(sheetState.users).indexOf(user.id)}\n                  onRemove={\n                    !sheetState.readOnly &&\n                    userState.curUser &&\n                    sheetState.createdBy !== user.id\n                      ? openRemoveUserModal\n                      : undefined\n                  }\n                  key={user.id}\n                />\n              )\n            );\n          })}\n          {!sheetState.readOnly && userState.curUser && (\n            <Tooltip arrow title='Add Friend' placement='right'>\n              <IconButton\n                className='iconButton smallIconButton leftMargin bottomMargin'\n                onClick={openAddUserModal}\n              >\n                <AddRoundedIcon />\n              </IconButton>\n            </Tooltip>\n          )}\n        </Grid>\n        <Grid item container xs={1} justify='flex-end' alignItems='center'>\n          <IconButton\n            className='iconButton smallIconButton rightMargin bottomMargin'\n            onClick={openSaveSheetModal}\n          >\n            <ReplyRoundedIcon id='shareIcon' />\n          </IconButton>\n          {userState.curUser?.id === sheetState.createdBy && (\n            <IconButton\n              className='iconButton smallIconButton rightMargin bottomMargin'\n              onClick={openSettingsModal}\n            >\n              <SettingsRoundedIcon />\n            </IconButton>\n          )}\n        </Grid>\n      </Grid>\n      <AddUserModal open={openAddUser} setOpen={setOpenAddUser} />\n      <SettingsModal open={openSettings} setOpen={setOpenSettings} />\n      {removeUser && (\n        <RemoveUserModal\n          removeUser={removeUser}\n          open={openRemoveUser}\n          setOpen={setOpenRemoveUser}\n        />\n      )}\n      <ShareSheetModal open={openSaveSheet} setOpen={setOpenSaveSheet} />\n    </>\n  );\n};\n","import { Grid } from \"@material-ui/core\";\nimport * as React from \"react\";\n\nexport const OverviewHeader: React.FC = () => {\n  return (\n    <Grid className='gridHeader roundedTop' container spacing={0}>\n      <Grid item xs={2}></Grid>\n      <Grid item xs={5}>\n        <span className='leftMargin'>TOTAL SPENT</span>\n      </Grid>\n      <Grid item xs={5}>\n        <span className='leftMargin'>TOTAL OWED</span>\n      </Grid>\n    </Grid>\n  );\n};\n","import { Grid, Input, InputAdornment } from \"@material-ui/core\";\nimport * as React from \"react\";\n// import NumberFormat from \"react-number-format\";\nimport { User } from \"../../../models/models\";\nimport { UserAvatar } from \"../../bits/UserAvatar\";\nimport { SheetContext } from \"../../pages/SplitTheCost\";\nimport { useContext } from \"react\";\n\ninterface Props {\n  user: User;\n  data: { totalSpent: number; totalOwed: number };\n  idx: number;\n}\n\nexport const OverviewRow: React.FC<Props> = ({ user, data, idx }) => {\n  const { sheetState } = useContext(SheetContext);\n\n  return (\n    <Grid\n      className={`${idx % 2 ? \"lightRow\" : \"darkRow\"} ${\n        idx === sheetState.numUsers - 1 && \"roundedBottom\"\n      }`}\n      container\n      spacing={0}\n    >\n      <Grid className='sideDialogRow' item xs={2}>\n        <UserAvatar\n          className='leftMargin'\n          user={user}\n          userIdx={Object.keys(sheetState.users).indexOf(user.id)}\n          tooltipPlacement='left'\n        />\n      </Grid>\n      <Grid className='sideDialogRow' item xs={5}>\n        <Input\n          className='sideMargins'\n          readOnly\n          disableUnderline\n          fullWidth\n          // inputComponent={NumberFormat as any}\n          // inputProps={{\n          //   decimalScale: 2,\n          //   allowNegative: false,\n          //   thousandSeparator: \",\",\n          // }}\n          value={data ? data?.totalSpent.toFixed(2) : 0}\n          startAdornment={<InputAdornment position='start'>$</InputAdornment>}\n        />\n      </Grid>\n      <Grid className='sideDialogRow' item xs={5}>\n        <>\n          <Input\n            readOnly\n            disableUnderline\n            fullWidth\n            // inputComponent={NumberFormat as any}\n            // inputProps={{\n            //   decimalScale: 2,\n            //   allowNegative: false,\n            //   thousandSeparator: \",\",\n            // }}\n            className='sideMargins'\n            value={data ? data?.totalOwed.toFixed(2) : 0}\n            startAdornment={<InputAdornment position='start'>$</InputAdornment>}\n          />\n        </>\n      </Grid>\n    </Grid>\n  );\n};\n","import * as React from \"react\";\nimport { useEffect, useState, useContext } from \"react\";\nimport { OverviewData } from \"../../../models/models\";\nimport { OverviewHeader } from \"./OverviewHeader\";\nimport { OverviewRow } from \"./OverviewRow\";\nimport { calculateOverview } from \"../../../logic/logic\";\nimport { SheetContext } from \"../../pages/SplitTheCost\";\nimport { UserContext } from \"../../../App\";\n\nexport const Overview: React.FC = () => {\n  const { sheetState } = useContext(SheetContext);\n  const { userState } = useContext(UserContext);\n\n  const [overviewData, setOverviewData] = useState<OverviewData>({});\n  let rowIdx = 0;\n\n  useEffect(() => {\n    setOverviewData(calculateOverview(sheetState.entries, sheetState.users));\n  }, [sheetState]);\n\n  return (\n    <>\n      <OverviewHeader />\n      {userState.curUser && (\n        <OverviewRow\n          user={userState.curUser}\n          data={overviewData[userState.curUser.id]}\n          idx={rowIdx++}\n        />\n      )}\n      {Object.entries(sheetState.users).map((pair) => {\n        let user = pair[1];\n        return (\n          user.id !== userState.curUser?.id && (\n            <OverviewRow\n              user={user}\n              data={overviewData[user.id]}\n              idx={rowIdx++}\n              key={user.id}\n            />\n          )\n        );\n      })}\n    </>\n  );\n};\n","import { Grid } from \"@material-ui/core\";\nimport * as React from \"react\";\n\nexport const BreakdownHeader: React.FC = () => {\n  return (\n    <Grid className='gridHeader roundedTop' container spacing={0}>\n      <Grid item xs={8}>\n        <span className='leftMargin'>TRANSACTIONS</span>\n      </Grid>\n      <Grid item xs={4}>\n        <span className='leftMargin'>TOTAL</span>\n      </Grid>\n    </Grid>\n  );\n};\n","import { Grid, Input, InputAdornment } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { useContext } from \"react\";\nimport NumberFormat from \"react-number-format\";\nimport { UserContext } from \"../../../App\";\nimport { User } from \"../../../models/models\";\nimport { SheetContext } from \"../../pages/SplitTheCost\";\nimport { UserAvatar } from \"../../bits/UserAvatar\";\n\ninterface Props {\n  user: User;\n  data?: { theyOwe: number; youOwe: number };\n  idx: number;\n}\n\nexport const BreakdownRow: React.FC<Props> = ({ user, data, idx }) => {\n  const { sheetState } = useContext(SheetContext);\n  const { userState } = useContext(UserContext);\n\n  const netCost = data ? data.theyOwe - data.youOwe : 0;\n  const debtedUser = netCost < 0 ? userState.curUser! : user;\n  const owedUser = netCost < 0 ? user : userState.curUser!;\n\n  return (\n    <Grid\n      className={`${idx % 2 ? \"lightRow\" : \"darkRow\"} ${\n        idx === sheetState.numUsers - 2 && \"roundedBottom\"\n      }`}\n      container\n      spacing={0}\n    >\n      <Grid className='sideDialogRow' item xs={2}>\n        <UserAvatar\n          className='leftMargin'\n          user={debtedUser}\n          userIdx={Object.keys(sheetState.users).indexOf(debtedUser.id)}\n          tooltipPlacement='left'\n        />\n      </Grid>\n      <Grid className='sideDialogRow' item xs={4}>\n        {netCost === 0 ? (\n          <div className='leftMargin evenArrow'>\n            <span>EVEN</span>\n          </div>\n        ) : (\n          <div className={`arrow ${netCost < 0 ? \"redArrow\" : \"greenArrow\"}`}>\n            <span className='leftMarginSmall'>\n              {netCost < 0 ? \"YOU OWE\" : \"OWES YOU\"}\n            </span>\n          </div>\n        )}\n      </Grid>\n      <Grid className='sideDialogRow' item xs={2}>\n        <UserAvatar\n          user={owedUser}\n          userIdx={Object.keys(sheetState.users).indexOf(owedUser.id)}\n          tooltipPlacement='top'\n        />\n      </Grid>\n      <Grid className='sideDialogRow' item xs={4}>\n        <Input\n          className='sideMargins'\n          readOnly\n          disableUnderline\n          fullWidth\n          inputComponent={NumberFormat as any}\n          inputProps={{\n            decimalScale: 2,\n            allowNegative: false,\n            thousandSeparator: \",\",\n          }}\n          value={Math.abs(netCost).toFixed(2)}\n          startAdornment={<InputAdornment position='start'>$</InputAdornment>}\n        />\n      </Grid>\n    </Grid>\n  );\n};\n","import * as React from \"react\";\nimport { useEffect, useState, useContext } from \"react\";\nimport { UserBreakdownData } from \"../../../models/models\";\nimport { BreakdownHeader } from \"./BreakdownHeader\";\nimport { BreakdownRow } from \"./BreakdownRow\";\nimport { UserContext } from \"../../../App\";\nimport { SheetContext } from \"../../pages/SplitTheCost\";\nimport { calculateUserBreakdown } from \"../../../logic/logic\";\n\nexport const Breakdown: React.FC = () => {\n  const { sheetState } = useContext(SheetContext);\n  const { userState } = useContext(UserContext);\n\n  const [breakdownData, setBreakdownData] = useState<UserBreakdownData>();\n  let rowIdx = 0;\n\n  useEffect(() => {\n    if (userState.curUser) {\n      setBreakdownData(\n        calculateUserBreakdown(\n          userState.curUser,\n          sheetState.entries,\n          sheetState.users\n        )\n      );\n    }\n  }, [userState.curUser, sheetState]);\n\n  return !userState.curUser || !breakdownData || sheetState.numUsers < 2 ? (\n    <div className='noBreakdownData'>No data to break down. &#129396;</div>\n  ) : (\n    <>\n      <BreakdownHeader />\n      {Object.entries(sheetState.users).map((pair) => {\n        let user = pair[1];\n        return (\n          user.id !== userState.curUser!.id && (\n            <BreakdownRow\n              user={user}\n              data={breakdownData.userBreakdown[user.id]}\n              idx={rowIdx++}\n              key={user.id}\n            />\n          )\n        );\n      })}\n    </>\n  );\n};\n","import React from \"react\";\nimport { Overview } from \"./overview/Overview\";\nimport ArrowBackRoundedIcon from \"@material-ui/icons/ArrowBackRounded\";\nimport ArrowForwardRoundedIcon from \"@material-ui/icons/ArrowForwardRounded\";\nimport { Fab, Tabs, Tab } from \"@material-ui/core\";\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport { Breakdown } from \"./breakdown/Breakdown\";\nimport { TabContext, TabPanel } from \"@material-ui/lab\";\nimport { useState } from \"react\";\n\nexport const SideDialog: React.FC = () => {\n  const [open, setOpen] = useState(true);\n  const [tab, setTab] = useState(\"ov\");\n\n  function handleOpen() {\n    setOpen(!open);\n  }\n\n  function handleChange(event: React.ChangeEvent<{}>, value: string) {\n    setTab(value);\n  }\n\n  return (\n    <>\n      <AnimatePresence>\n        {open && (\n          <motion.div\n            className='sideDialog'\n            animate={{ x: 0, opacity: 1 }}\n            initial={{ x: 600, opacity: 0 }}\n            exit={{ x: 600, opacity: 0 }}\n            transition={{ duration: 0.3 }}\n          >\n            <TabContext value={tab}>\n              <Tabs\n                value={tab}\n                onChange={handleChange}\n                indicatorColor='primary'\n                textColor='primary'\n              >\n                <Tab className='sideDialogTab' value='ov' label='OVERVIEW' />\n                <Tab className='sideDialogTab' value='bd' label='BREAKDOWN' />\n              </Tabs>\n              <motion.div\n                animate={tab === \"ov\" ? { opacity: 1 } : { opacity: 0 }}\n                transition={{ duration: 0.7 }}\n              >\n                <TabPanel className='sideDialogContent' value={\"ov\"}>\n                  <Overview />\n                </TabPanel>\n              </motion.div>\n              <motion.div\n                animate={tab === \"bd\" ? { opacity: 1 } : { opacity: 0 }}\n                transition={{ duration: 0.7 }}\n              >\n                <TabPanel className='sideDialogContent' value={\"bd\"}>\n                  <Breakdown />\n                </TabPanel>\n              </motion.div>\n            </TabContext>\n          </motion.div>\n        )}\n      </AnimatePresence>\n      <motion.div\n        className='sideDialogFab'\n        animate={open ? { x: -440 } : { x: 0 }}\n        transition={{ duration: 0.3 }}\n      >\n        <Fab variant='extended' size='medium' onClick={handleOpen}>\n          {open ? <ArrowForwardRoundedIcon /> : <ArrowBackRoundedIcon />}\n        </Fab>\n      </motion.div>\n    </>\n  );\n};\n","import * as React from \"react\";\nimport { Fab } from \"@material-ui/core\";\nimport { useContext } from \"react\";\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\nimport { UserContext } from \"../../App\";\nimport { SheetContext } from \"../pages/SplitTheCost\";\n\nexport const AddItemFab: React.FC = () => {\n  const { sheetDispatch } = useContext(SheetContext);\n  const { userState } = useContext(UserContext);\n\n  function addEntry() {\n    sheetDispatch({\n      type: \"addEntry\",\n      createdBy: userState.curUser!.id,\n      item: \"\",\n      cost: 0,\n      exclude: [],\n      note: \"\",\n    });\n  }\n\n  return (\n    <div className='addItemFabDiv'>\n      <Fab\n        className='addItemFab'\n        variant='extended'\n        size='medium'\n        onClick={addEntry}\n      >\n        <AddRoundedIcon />\n        <span className='leftMarginSmall'>Add Expense</span>\n      </Fab>\n    </div>\n  );\n};\n","import { nanoid } from \"nanoid\";\nimport { db, sheetStateConverter } from \"../firebase\";\nimport { Entry, SaveState, SheetState, User } from \"../models/models\";\n\nexport type AddEntryAction = {\n  type: \"addEntry\";\n  createdBy: string;\n  item?: string;\n  cost?: number;\n  exclude?: string[];\n  note?: string;\n  local?: boolean;\n};\nexport type RemoveEntryAction = {\n  type: \"removeEntry\";\n  entryId: string;\n  local?: boolean;\n};\nexport type UpdateEntryAction = {\n  type: \"updateEntry\";\n  entry: Entry;\n  section: \"item\" | \"cost\" | \"note\" | \"user\";\n  value: string;\n  local?: boolean;\n};\nexport type AddUserAction = {\n  type: \"addUser\";\n  firstName: string;\n  lastName: string;\n  email: string;\n  local?: boolean;\n};\nexport type RemoveUserAction = {\n  type: \"removeUser\";\n  userId: string;\n  local?: boolean;\n};\nexport type UpdateExcludedUsersAction = {\n  type: \"updateExcludedUsers\";\n  exclude: string[];\n  entry: Entry;\n  local?: boolean;\n};\nexport type RemoveExcludedUserAction = {\n  type: \"removeExcludedUser\";\n  userId: string;\n  entry: Entry;\n  local?: boolean;\n};\nexport type ChangeSheetTitleAction = {\n  type: \"changeSheetTitle\";\n  title: string;\n};\nexport type ChangeSheetLinkAction = {\n  type: \"changeSheetLink\";\n  link: string;\n};\nexport type UpdateReadOnlyAction = {\n  type: \"updateReadOnly\";\n  readOnly: boolean;\n};\nexport type SaveSheetAction = {\n  type: \"saveSheet\";\n};\nexport type AutosaveSheetAction = {\n  type: \"autosaveSheet\";\n  setAutosaveState: React.Dispatch<React.SetStateAction<SaveState>>;\n};\nexport type DeleteSheetAction = {\n  type: \"deleteSheet\";\n};\nexport type UpdateSheetStateAction = {\n  type: \"updateSheetState\";\n  sheetState: SheetState;\n};\n\nexport type SheetAction =\n  | AddEntryAction\n  | RemoveEntryAction\n  | UpdateEntryAction\n  | AddUserAction\n  | RemoveUserAction\n  | UpdateExcludedUsersAction\n  | RemoveExcludedUserAction\n  | ChangeSheetTitleAction\n  | ChangeSheetLinkAction\n  | SaveSheetAction\n  | AutosaveSheetAction\n  | UpdateReadOnlyAction\n  | DeleteSheetAction\n  | UpdateSheetStateAction;\n\nexport function sheetReducer(state: SheetState, action: SheetAction) {\n  switch (action.type) {\n    case \"addEntry\":\n      return addEntry(state, action);\n    case \"removeEntry\":\n      return removeEntry(state, action);\n    case \"updateEntry\":\n      return updateEntry(state, action);\n    case \"addUser\":\n      return addUser(state, action);\n    case \"removeUser\":\n      return removeUser(state, action);\n    case \"updateExcludedUsers\":\n      return updatedExcludedUsers(state, action);\n    case \"removeExcludedUser\":\n      return removeExcludedUser(state, action);\n    case \"changeSheetTitle\":\n      return changeSheetTitle(state, action);\n    case \"changeSheetLink\":\n      return changeSheetLink(state, action);\n    case \"saveSheet\":\n      return saveSheet(state, action);\n    case \"autosaveSheet\":\n      return autosaveSheet(state, action);\n    case \"updateReadOnly\":\n      return updateReadOnly(state, action);\n    case \"deleteSheet\":\n      return deleteSheet(state, action);\n    case \"updateSheetState\":\n      return action.sheetState;\n    default:\n      return state;\n  }\n}\n\n// ----------------- SHEET ACTIONS -----------------\n\n// Add a new entry to the sheet.\nfunction addEntry(state: SheetState, action: AddEntryAction): SheetState {\n  const newEntry: Entry = {\n    id: nanoid(),\n    timestamp: new Date(Date.now()).toUTCString(),\n    lastEdited: Date.now(),\n    item: action.item ? action.item : \"\",\n    cost: action.cost ? action.cost : 0,\n    exclude: action.exclude ? action.exclude : [],\n    note: action.note ? action.note : \"\",\n    user: action.createdBy,\n    createdBy: action.createdBy,\n  };\n\n  const newSheetState: SheetState = {\n    ...state,\n    entries: [...state.entries, newEntry],\n    lastEdited: Date.now(),\n    readOnly: false,\n  };\n  updateFirestore(newSheetState, action.local);\n  return newSheetState;\n}\n\n// Remove an entry from the sheet.\nfunction removeEntry(state: SheetState, action: RemoveEntryAction): SheetState {\n  const newEntries = state.entries.filter(\n    (entry) => entry.id !== action.entryId\n  );\n\n  const newSheetState: SheetState = {\n    ...state,\n    entries: newEntries,\n    lastEdited: Date.now(),\n  };\n  updateFirestore(newSheetState, action.local);\n  return newSheetState;\n}\n\n// Update a section of an entry.\nfunction updateEntry(state: SheetState, action: UpdateEntryAction): SheetState {\n  const entry = action.entry;\n  const value = action.value;\n  let newEntry: Entry = { ...entry, lastEdited: Date.now() };\n\n  if (action.section === \"item\") {\n    if (entry.item === value) return state;\n    newEntry = { ...newEntry, item: value };\n  } else if (action.section === \"cost\") {\n    newEntry = { ...newEntry, cost: Number(value.replaceAll(\",\", \"\")) };\n  } else if (action.section === \"user\") {\n    if (entry.user === value) return state;\n    newEntry = { ...newEntry, user: value };\n  } else {\n    if (entry.note === value) return state;\n    newEntry = { ...newEntry, note: value };\n  }\n  const newEntries = [...state.entries];\n  newEntries[newEntries.indexOf(entry)] = newEntry;\n\n  const newSheetState: SheetState = {\n    ...state,\n    entries: newEntries,\n    lastEdited: Date.now(),\n  };\n  // updateFirestore(newSheetState, action.local);\n  return newSheetState;\n}\n\n// Add a user to the sheet.\nfunction addUser(state: SheetState, action: AddUserAction): SheetState {\n  if (state.numUsers > 10) return state;\n\n  let duplicateUser = false;\n  Object.entries(state.users).forEach((pair) => {\n    const user = pair[1];\n    if (\n      user.firstName === action.firstName &&\n      user.lastName === action.lastName\n    ) {\n      duplicateUser = true;\n    }\n  });\n\n  if (duplicateUser) return state;\n\n  const newUser: User = {\n    id: nanoid(),\n    firstName: action.firstName,\n    lastName: action.lastName,\n    initials: `${action.firstName.charAt(0)}${action.lastName.charAt(\n      0\n    )}`.toLocaleUpperCase(),\n    displayName: `${action.firstName} ${action.lastName}`,\n    email: action.email,\n  };\n\n  const newSheetState: SheetState = {\n    ...state,\n    users: { ...state.users, [newUser.id]: newUser },\n    numUsers: state.numUsers + 1,\n    lastEdited: Date.now(),\n  };\n  updateFirestore(newSheetState, action.local);\n  return newSheetState;\n}\n\n// Remove a user from the sheet.\nfunction removeUser(state: SheetState, action: RemoveUserAction): SheetState {\n  if (state.numUsers === 1) return state;\n\n  // Remove user from users dictionary.\n  const newUsers = { ...state.users };\n  delete newUsers[action.userId];\n\n  // Remove entries created by the user and/or associated with the user.\n  const newEntries = state.entries.filter(\n    (entry) => entry.createdBy !== action.userId && entry.user !== action.userId\n  );\n\n  // Remove user from any excluded user lists.\n  newEntries.forEach((entry, idx) => {\n    if (entry.exclude.includes(action.userId)) {\n      let newExcludedUsers = entry.exclude.filter(\n        (curId) => action.userId !== curId\n      );\n      let updatedEntry = { ...entry, exclude: newExcludedUsers };\n      newEntries[idx] = updatedEntry;\n    }\n  });\n\n  const newSheetState: SheetState = {\n    ...state,\n    entries: newEntries,\n    users: newUsers,\n    numUsers: state.numUsers - 1,\n    lastEdited: Date.now(),\n  };\n  updateFirestore(newSheetState, action.local);\n  return newSheetState;\n}\n\n// Update the excluded userIds for a specific entry.\nfunction updatedExcludedUsers(\n  state: SheetState,\n  action: UpdateExcludedUsersAction\n): SheetState {\n  const newEntry = {\n    ...action.entry,\n    exclude: action.exclude,\n  };\n  const newEntries = [...state.entries];\n  newEntries[newEntries.indexOf(action.entry)] = newEntry;\n\n  const newSheetState: SheetState = {\n    ...state,\n    entries: newEntries,\n    lastEdited: Date.now(),\n  };\n  updateFirestore(newSheetState, action.local);\n  return newSheetState;\n}\n\n// Remove an excluded user from a specific entry.\nfunction removeExcludedUser(\n  state: SheetState,\n  action: RemoveExcludedUserAction\n): SheetState {\n  const newEntry = {\n    ...action.entry,\n    exclude: action.entry.exclude.filter((userId) => userId !== action.userId),\n  };\n  const newEntries = [...state.entries];\n  newEntries[newEntries.indexOf(action.entry)] = newEntry;\n\n  const newSheetState: SheetState = {\n    ...state,\n    entries: newEntries,\n    lastEdited: Date.now(),\n  };\n  updateFirestore(newSheetState, action.local);\n  return newSheetState;\n}\n\n// Update the sheet's title.\nfunction changeSheetTitle(\n  state: SheetState,\n  action: ChangeSheetTitleAction\n): SheetState {\n  if (state.title === action.title) return state;\n\n  const newSheetState: SheetState = {\n    ...state,\n    title: action.title,\n    lastEdited: Date.now(),\n  };\n  updateFirestore(newSheetState);\n  return newSheetState;\n}\n\n// Update the sheet's custom link.\nfunction changeSheetLink(\n  state: SheetState,\n  action: ChangeSheetLinkAction\n): SheetState {\n  if (\n    !action.link ||\n    state.customLink === action.link ||\n    action.link.length < 5\n  )\n    return state;\n\n  const newSheetState: SheetState = {\n    ...state,\n    customLink: action.link,\n    lastEdited: Date.now(),\n  };\n  updateFirestore(newSheetState);\n\n  if (state.customLink) {\n    db.collection(\"customLinks\").doc(state.customLink).delete();\n  }\n\n  const firebaseLink = { sheetId: state.id };\n  db.collection(\"customLinks\").doc(action.link).set(firebaseLink);\n  return newSheetState;\n}\n\n// Save the sheet in Firestore and set the sheet to auto-update.\nfunction saveSheet(state: SheetState, action: SaveSheetAction): SheetState {\n  if (!state.local) return state;\n\n  const newSheetState = { ...state, local: false, lastEdited: Date.now() };\n  updateFirestore(newSheetState);\n  return newSheetState;\n}\n\nfunction autosaveSheet(\n  state: SheetState,\n  action: AutosaveSheetAction\n): SheetState {\n  if (Date.now() - state.lastEdited < 11000) {\n    action.setAutosaveState(SaveState.Saving);\n    updateFirestore(state);\n  }\n\n  return state;\n}\n\nfunction updateReadOnly(\n  state: SheetState,\n  action: UpdateReadOnlyAction\n): SheetState {\n  const newSheetState = { ...state, readOnly: action.readOnly };\n  updateFirestore(newSheetState);\n  return newSheetState;\n}\n\nfunction deleteSheet(state: SheetState, action: DeleteSheetAction): SheetState {\n  if (state.local) {\n    return state;\n  }\n\n  db.collection(\"deletedSheets\")\n    .withConverter(sheetStateConverter)\n    .doc(state.id)\n    .set(state);\n  db.collection(\"sheets\").doc(state.id).delete();\n\n  if (state.customLink) {\n    db.collection(\"deletedCustomLinks\")\n      .doc(state.customLink)\n      .set({ sheetId: state.id });\n    db.collection(\"customLinks\").doc(state.customLink).delete();\n  }\n\n  return state;\n}\n\nfunction updateFirestore(state: SheetState, local?: boolean) {\n  if (local || state.local) return;\n\n  db.collection(\"sheets\")\n    .withConverter(sheetStateConverter)\n    .doc(state.id)\n    .set(state);\n}\n","import * as React from \"react\";\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n} from \"@material-ui/core\";\nimport { SheetContext } from \"../pages/SplitTheCost\";\nimport { useContext, useState } from \"react\";\nimport { UserChip } from \"../bits/UserChip\";\nimport { UserContext } from \"../../App\";\nimport { User } from \"../../models/models\";\nimport { ModalHeader } from \"./ModalHeader\";\nimport { handleKeyPress } from \"../../logic/logic\";\n\ninterface Props {\n  open: boolean;\n}\n\nexport const WhoAreYouModal: React.FC<Props> = ({ open }) => {\n  const { sheetState } = useContext(SheetContext);\n  const { userDispatch } = useContext(UserContext);\n\n  const [selectedUser, setSelectedUser] = useState<User>();\n\n  function confirmUser() {\n    userDispatch({\n      type: \"updateCurUser\",\n      user: selectedUser!,\n    });\n  }\n\n  return (\n    <Dialog\n      fullWidth\n      disableBackdropClick\n      maxWidth='sm'\n      open={open}\n      onKeyPress={(e) => handleKeyPress(e, \"enter\", confirmUser)}\n      PaperProps={{ className: \"modal\" }}\n    >\n      <ModalHeader title='Who are You?' />\n      <DialogContent>\n        {Object.entries(sheetState.users).map((pair) => {\n          const user = pair[1];\n          return (\n            <UserChip\n              className={`bottomMargin rightMargin ${\n                selectedUser?.id === user.id && \"selectedChip\"\n              }`}\n              user={user}\n              userIdx={Object.keys(sheetState.users).indexOf(user.id)}\n              onClick={setSelectedUser}\n              key={user.id}\n            />\n          );\n        })}\n      </DialogContent>\n      <DialogActions className='modalActions'>\n        <Button\n          className='modalConfirmButton rightMarginSmall'\n          disabled={!selectedUser}\n          onClick={confirmUser}\n        >\n          Confirm\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n","import {\n  Button,\n  Checkbox,\n  FormControlLabel,\n  Grid,\n  IconButton,\n  TextField,\n} from \"@material-ui/core\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport CloseRoundedIcon from \"@material-ui/icons/CloseRounded\";\nimport { motion } from \"framer-motion\";\nimport { UserContext } from \"../../App\";\nimport { User } from \"../../models/models\";\nimport { nanoid } from \"nanoid\";\n\nenum CreateSheetStep {\n  SheetName = 1,\n  DisplayName = 2,\n}\n\nexport const CreateNewSheet: React.FC = () => {\n  const { userDispatch } = useContext(UserContext);\n  const history = useHistory();\n\n  const [step, setStep] = useState(CreateSheetStep.SheetName);\n\n  const [sheetTitle, setSheetTitle] = useState(\"\");\n  const [validTitle, setValidTitle] = useState(false);\n  const [agreeToTerms, setAgreeToTerms] = useState(false);\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n\n  useEffect(() => {\n    setValidTitle(\n      !(\n        sheetTitle.trim().length < 5 ||\n        sheetTitle.length > 20 ||\n        sheetTitle.match(/[~`%^#@*+=\\-[\\]\\\\';,/{}|\\\\\"<>]/)\n      )\n    );\n  }, [sheetTitle]);\n\n  function createNewSheet() {\n    const newUser: User = {\n      id: nanoid(),\n      firstName: firstName,\n      lastName: lastName,\n      initials: `${firstName.charAt(0)}${lastName.charAt(\n        0\n      )}`.toLocaleUpperCase(),\n      displayName: `${firstName} ${lastName}`,\n      email: \"\",\n    };\n    userDispatch({ type: \"updateCurUser\", user: newUser });\n    history.push({ pathname: \"/sheet/new\", state: { title: sheetTitle } });\n  }\n\n  function sheetNameStep() {\n    return (\n      <>\n        <div className='giantHeader'>Give your sheet a name:</div>\n        <TextField\n          className='giantTextField'\n          fullWidth\n          placeholder='Sheet name'\n          value={sheetTitle}\n          onChange={(e) => setSheetTitle(e.target.value)}\n          inputProps={{\n            className: \"giantInput\",\n          }}\n        />\n        <FormControlLabel\n          className='termsAndConditions'\n          control={\n            <Checkbox\n              value={agreeToTerms}\n              onClick={() => setAgreeToTerms(!agreeToTerms)}\n              color='primary'\n            />\n          }\n          label={\n            <>\n              I accept the SplitTheCost <Link to='/tos'>terms</Link>.\n            </>\n          }\n        />\n        <Button\n          className='continueButton'\n          disabled={!agreeToTerms || !validTitle}\n          onClick={() => setStep(CreateSheetStep.DisplayName)}\n        >\n          continue\n        </Button>\n      </>\n    );\n  }\n\n  function displayNameStep() {\n    return (\n      <>\n        <div className='giantHeader'>\n          Yup, we're basically done. What's your name?\n        </div>\n        <div>\n          <TextField\n            className='giantTextField halfWidthModalInput'\n            fullWidth\n            placeholder='First name'\n            value={firstName}\n            onChange={(e) => setFirstName(e.target.value)}\n            inputProps={{\n              className: \"giantInput\",\n            }}\n          />\n          <TextField\n            className='leftMarginLarge giantTextField halfWidthModalInput'\n            fullWidth\n            placeholder='Last name'\n            value={lastName}\n            onChange={(e) => setLastName(e.target.value)}\n            inputProps={{\n              className: \"giantInput\",\n            }}\n          />\n        </div>\n        <div>\n          <Button className='continueButton' onClick={() => setStep(step - 1)}>\n            go back\n          </Button>\n          <Button\n            className='leftMargin continueButton'\n            disabled={!firstName.trim() || !lastName.trim()}\n            onClick={createNewSheet}\n          >\n            finish\n          </Button>\n        </div>\n      </>\n    );\n  }\n\n  function renderStep() {\n    if (step === CreateSheetStep.SheetName) return sheetNameStep();\n    if (step === CreateSheetStep.DisplayName) return displayNameStep();\n    return sheetNameStep();\n  }\n\n  return (\n    <motion.div\n      initial={{ x: 2000 }}\n      animate={{ x: 0 }}\n      transition={{ type: \"spring\", duration: 0.8 }}\n    >\n      <Grid className='createNewSheet' container spacing={0}>\n        <Grid item xs={1}></Grid>\n        <Grid className='createNewSheetItem' item xs={8}>\n          {renderStep()}\n        </Grid>\n      </Grid>\n      <div className='stepIndicator'>\n        <Link to='/'>\n          <IconButton size='small'>\n            <CloseRoundedIcon />\n          </IconButton>\n        </Link>\n        <span className='leftMarginSmall'>\n          Create a sheet (Step {step} of 2)\n        </span>\n      </div>\n    </motion.div>\n  );\n};\n","import React from \"react\";\n\nexport const ViewOnDesktop: React.FC = () => {\n  return (\n    <div className='errorPage'>\n      <span className='errorPageHeader'>\n        <b>coming soon...</b>\n      </span>\n      <span className='errorPageSubtitle'>\n        We're currently working on a mobile friendly version of splithecost - in\n        the meantime, please visit us on a computer!\n      </span>\n    </div>\n  );\n};\n","import React, { createContext, useContext, useEffect, useReducer } from \"react\";\nimport { SaveState, SheetState } from \"../../models/models\";\nimport { Entries } from \"../entries/Entries\";\nimport { Header } from \"../header/Header\";\nimport { UsersBar } from \"../users/UsersBar\";\nimport { SideDialog } from \"../dialog/SideDialog\";\nimport { AddItemFab } from \"../bits/AddItemFab\";\nimport { SheetAction, sheetReducer } from \"../../actions/sheetActions\";\nimport { UserContext } from \"../../App\";\nimport { db, sheetStateConverter } from \"../../firebase\";\nimport { useHistory, useLocation, useParams } from \"react-router-dom\";\nimport { WhoAreYouModal } from \"../modals/WhoAreYouModal\";\nimport { nanoid } from \"nanoid\";\nimport { ViewOnDesktop } from \"./ViewOnDesktop\";\nimport { useState } from \"react\";\n\nvar initialSheetState: SheetState = {\n  title: \"Loading Sheet...\",\n  timestamp: \"\",\n  lastAccessed: 0,\n  lastEdited: 0,\n  entries: [],\n  users: {},\n  numUsers: 0,\n  createdBy: \"\",\n  local: true,\n  readOnly: true,\n  id: \"\",\n};\n\nexport const SheetContext = createContext<{\n  sheetState: SheetState;\n  sheetDispatch: React.Dispatch<SheetAction>;\n}>({\n  sheetState: initialSheetState,\n  sheetDispatch: () => null,\n});\n\nexport const SplitTheCost: React.FC = () => {\n  const isMobile = window.innerWidth <= 1000;\n  const history = useHistory();\n  const location = useLocation<{ title: string }>();\n  const { sheetId } = useParams<{ sheetId: string }>();\n\n  const [sheetState, sheetDispatch] = useReducer(\n    sheetReducer,\n    initialSheetState\n  );\n  const { userState } = useContext(UserContext);\n\n  const [autosaveState, setAutosaveState] = useState(\n    sheetState.local ? SaveState.Unsaved : SaveState.Saved\n  );\n\n  useEffect(() => {\n    if (!sheetId || sheetId === \"new\") {\n      generateNewSheetState();\n    } else {\n      fetchSheetState();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    setAutosaveState(sheetState.local ? SaveState.Unsaved : SaveState.Saved);\n    const saveInterval = setInterval(() => {\n      autosaveSheet();\n    }, 10000);\n\n    return () => clearInterval(saveInterval);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [sheetState.local]);\n\n  async function autosaveSheet() {\n    if (!sheetState.local) {\n      sheetDispatch({\n        type: \"autosaveSheet\",\n        setAutosaveState: setAutosaveState,\n      });\n      await new Promise((r) => setTimeout(r, 1500));\n      setAutosaveState(SaveState.Saved);\n    }\n  }\n\n  function generateNewSheetState() {\n    if (!userState.curUser || !location.state.title) {\n      history.push(\"/create\");\n      return;\n    }\n\n    const newSheetState: SheetState = {\n      id: nanoid(10),\n      timestamp: new Date(Date.now()).toUTCString(),\n      lastAccessed: Date.now(),\n      lastEdited: Date.now(),\n      title: location.state.title,\n      entries: [],\n      users: { [userState.curUser.id]: userState.curUser },\n      numUsers: 1,\n      createdBy: userState.curUser.id,\n      local: true,\n      readOnly: false,\n    };\n\n    sheetDispatch({ type: \"updateSheetState\", sheetState: newSheetState });\n    sheetDispatch({ type: \"addEntry\", createdBy: userState.curUser.id });\n  }\n\n  async function fetchSheetState() {\n    const sheetSnapshot = await db\n      .collection(\"sheets\")\n      .withConverter(sheetStateConverter)\n      .doc(sheetId)\n      .get();\n    const fetchedSheetState = sheetSnapshot.data();\n    if (fetchedSheetState) {\n      sheetDispatch({\n        type: \"updateSheetState\",\n        sheetState: {\n          ...fetchedSheetState,\n          lastAccessed: Date.now(),\n          readOnly: false,\n        },\n      });\n      return;\n    }\n\n    const customLinkSnapshot = await db\n      .collection(\"customLinks\")\n      .doc(sheetId)\n      .get();\n\n    const customLink = customLinkSnapshot.data();\n    if (customLink) {\n      const actualSheetId = customLink[\"sheetId\"];\n      const customSheetSnapshot = await db\n        .collection(\"sheets\")\n        .withConverter(sheetStateConverter)\n        .doc(actualSheetId)\n        .get();\n      const customFetchedSheetState = customSheetSnapshot.data();\n      if (customFetchedSheetState) {\n        sheetDispatch({\n          type: \"updateSheetState\",\n          sheetState: {\n            ...customFetchedSheetState,\n            lastAccessed: Date.now(),\n          },\n        });\n        return;\n      }\n    }\n\n    history.push({ pathname: \"/invalidsheet\", state: { sheetId: sheetId } });\n  }\n\n  function renderDeviceView(): JSX.Element {\n    if (isMobile) {\n      return <ViewOnDesktop />;\n    } else {\n      return (\n        <>\n          <Header saveState={autosaveState} />\n          <UsersBar />\n          <Entries />\n          <SideDialog />\n          {!sheetState.readOnly && userState.curUser && <AddItemFab />}\n          <WhoAreYouModal open={!userState.curUser} />\n        </>\n      );\n    }\n  }\n\n  return (\n    <SheetContext.Provider\n      value={{ sheetState: sheetState, sheetDispatch: sheetDispatch }}\n    >\n      {renderDeviceView()}\n    </SheetContext.Provider>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/homepage.d372b9ab.png\";","export default __webpack_public_path__ + \"static/media/blob.244efd39.svg\";","import React from \"react\";\nimport { Button, Grid } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport homepage from \"../../assets/homepage.png\";\nimport blob from \"../../assets/blob.svg\";\nimport { ViewOnDesktop } from \"./ViewOnDesktop\";\n\nexport const HomePage: React.FC = () => {\n  const isMobile = window.innerWidth < 1000;\n\n  if (isMobile) {\n    return <ViewOnDesktop />;\n  } else {\n    return (\n      <>\n        <Grid id='homepageHeader' container alignContent='center'>\n          <Grid item container xs={12} justify='flex-end'>\n            <Link className='noTextDecoration' to='/'>\n              <span className='homepageLink'>about</span>\n            </Link>\n            <Link className='noTextDecoration' to='/'>\n              <span className='homepageLink'>contact</span>\n            </Link>\n          </Grid>\n        </Grid>\n        <Grid className='homepage' container spacing={0} alignContent='center'>\n          <Grid item container xs={8} justify='center'>\n            <img id='homepageBlob' src={blob} alt='blob' />\n            <img id='homepageImg' src={homepage} alt='homepage' />\n          </Grid>\n          <Grid item container xs={4} alignItems='center' alignContent='center'>\n            <div id='homepageText'>\n              <span id='homepageTitle'>welcome to splitthecost.</span>\n              <span id='homepageSubtitle'>\n                shared expenses for trips/events made simple. no sign up\n                required!\n              </span>\n              <Link className='noTextDecoration' to='/create'>\n                <Button className='createNewButton'>create new sheet</Button>\n              </Link>\n            </div>\n          </Grid>\n        </Grid>\n      </>\n    );\n  }\n};\n","import { UserState, User } from \"../models/models\";\n\nexport type UpdateCurUserAction = {\n  type: \"updateCurUser\";\n  user: User;\n};\n\nexport type SetDarkModeAction = {\n  type: \"setDarkMode\";\n  darkMode: boolean;\n};\n\nexport type UserAction = UpdateCurUserAction | SetDarkModeAction;\n\nexport function userReducer(state: UserState, action: UserAction) {\n  switch (action.type) {\n    case \"updateCurUser\":\n      return updateCurUser(state, action);\n    case \"setDarkMode\":\n      return setDarkMode(state, action);\n    default:\n      return state;\n  }\n}\n\n// ----------------- APP USER ACTIONS -----------------\n\n// Update the current user.\nfunction updateCurUser(\n  state: UserState,\n  action: UpdateCurUserAction\n): UserState {\n  return { ...state, curUser: action.user };\n}\n\n// Remove an entry from the sheet.\nfunction setDarkMode(state: UserState, action: SetDarkModeAction): UserState {\n  return { ...state, darkMode: action.darkMode };\n}\n","import { Button } from \"@material-ui/core\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport const PageNotFound: React.FC = () => {\n  return (\n    <div className='errorPage'>\n      <span className='errorPageHeader'>\n        <b>404</b> - this page doesn't exist.\n      </span>\n\n      <Link className='noTextDecoration' to='/'>\n        <Button className='createNewButton'>home</Button>\n      </Link>\n    </div>\n  );\n};\n","import { Button } from \"@material-ui/core\";\nimport React from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\n\nexport const SheetNotFound: React.FC = () => {\n  const location = useLocation<{ sheetId: string }>();\n\n  return (\n    <div className='errorPage'>\n      <span className='errorPageHeader'>\n        sorry, we couldn't find a sheet with id \"\n        <b>{location.state?.sheetId}</b>\n        \".\n      </span>\n\n      <Link className='noTextDecoration' to='/create'>\n        <Button className='createNewButton'>create new sheet</Button>\n      </Link>\n    </div>\n  );\n};\n","import React from \"react\";\n\nexport const TermsOfService: React.FC = () => {\n  return (\n    <div id='tos'>\n      <h2>Terms of Service</h2>\n      <p>\n        SplitTheCost stores all data in <b>unencrypted plaintext</b> and is not\n        responsible for the loss or unauthorized release of any data. In other\n        words,{\" \"}\n        <b>don't use SplitTheCost for private or confidential information! </b>\n        SplitTheCost is not liable for any direct, indirect, incidental,\n        consequential, or special damages or losses resulting from authorized or\n        unauthorized use of or access to this platform.\n        <br />\n        <br />\n        That's about it! Have fun and enjoy to your heart's desire.\n      </p>\n    </div>\n  );\n};\n","import React, { createContext, useReducer } from \"react\";\nimport \"./main.css\";\nimport { SplitTheCost } from \"./components/pages/SplitTheCost\";\nimport { Route, HashRouter as Router, Switch } from \"react-router-dom\";\nimport { HomePage } from \"./components/pages/HomePage\";\nimport { UserState } from \"./models/models\";\nimport { UserAction, userReducer } from \"./actions/appUserActions\";\nimport { CreateNewSheet } from \"./components/pages/CreateNewSheet\";\nimport { PageNotFound } from \"./components/pages/PageNotFound\";\nimport { SheetNotFound } from \"./components/pages/SheetNotFound\";\nimport { TermsOfService } from \"./components/pages/TermsOfService\";\n\nconst initialUserState: UserState = {\n  curUser: undefined,\n  darkMode: false,\n};\n\nexport const UserContext = createContext<{\n  userState: UserState;\n  userDispatch: React.Dispatch<UserAction>;\n}>({\n  userState: initialUserState,\n  userDispatch: () => null,\n});\n\nfunction App() {\n  const [userState, userDispatch] = useReducer(userReducer, initialUserState);\n\n  return (\n    <Router>\n      <UserContext.Provider\n        value={{ userState: userState, userDispatch: userDispatch }}\n      >\n        <Switch>\n          <Route path='/' exact component={HomePage} />\n          <Route path='/create' exact component={CreateNewSheet} />\n          <Route path='/sheet/:sheetId' exact component={SplitTheCost} />\n          <Route path='/invalidsheet' exact component={SheetNotFound} />\n          <Route path='/tos' exact component={TermsOfService} />\n          <Route component={PageNotFound} />\n        </Switch>\n      </UserContext.Provider>\n    </Router>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  // <React.StrictMode>\n  <App />,\n  // </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}